{"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\__test-setup.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\__test-setup.js","statementMap":{"0":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"1":{"start":{"line":2,"column":17},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":76}},"3":{"start":{"line":4,"column":23},"end":{"line":4,"column":64}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":42}},"6":{"start":{"line":8,"column":21},"end":{"line":8,"column":47}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":90}},"8":{"start":{"line":11,"column":0},"end":{"line":14,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":7},"end":{"line":6,"column":8}},"loc":{"start":{"line":6,"column":19},"end":{"line":10,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":6},"end":{"line":11,"column":7}},"loc":{"start":{"line":11,"column":18},"end":{"line":14,"column":1}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\__test-setup.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\__test-setup.js"],"names":[],"mappings":"AAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAA;AAC7B,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,MAAM,iBAAiB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,iBAAiB,CAAC;AAC7E,MAAM,cAAc,GAAG,OAAO,CAAC,gCAAgC,CAAC,CAAC;AACjE,IAAI,WAAW,CAAC;AAEhB,MAAM,CAAC,KAAK,IAAI,EAAE;IACd,WAAW,GAAG,IAAI,iBAAiB,EAAE,CAAC;IACtC,MAAM,QAAQ,GAAG,MAAM,WAAW,CAAC,MAAM,EAAE,CAAC;IAC5C,MAAM,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAG,EAAE,eAAe,EAAE,IAAI,EAAG,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC;AAC1F,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,KAAK,IAAI,EAAE;IACf,MAAM,QAAQ,CAAC,UAAU,EAAE,CAAC;IAC5B,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;AAC3B,CAAC,CAAC,CAAA","sourcesContent":["process.env.NODE_ENV = 'test'\r\nconst mongoose = require('mongoose');\r\nconst MongoMemoryServer = require('mongodb-memory-server').MongoMemoryServer;\r\nconst userController = require('../controllers/user-controller');\r\nlet mongoServer;\r\n\r\nbefore(async () => {\r\n    mongoServer = new MongoMemoryServer();\r\n    const mongoUri = await mongoServer.getUri();\r\n    await mongoose.connect(mongoUri,  { useNewUrlParser: true,  useUnifiedTopology: true });\r\n  });\r\n  \r\n  after(async () => {\r\n    await mongoose.disconnect();\r\n    await mongoServer.stop();\r\n  })\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5846fe6b45028cc8002ec97d264f2a5669949569","contentHash":"6429dbbf67d5bc95363c8d3a04356bd835c37c322f7880b0c248eabe9d7c6fbe"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\user-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\user-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":667}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":55}},"6":{"start":{"line":8,"column":18},"end":{"line":8,"column":68}},"7":{"start":{"line":9,"column":0},"end":{"line":13,"column":2}},"8":{"start":{"line":10,"column":19},"end":{"line":10,"column":48}},"9":{"start":{"line":11,"column":17},"end":{"line":11,"column":57}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":16}},"11":{"start":{"line":14,"column":0},"end":{"line":18,"column":2}},"12":{"start":{"line":15,"column":25},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":24}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":28}},"15":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":42}},"17":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":53}},"19":{"start":{"line":25,"column":0},"end":{"line":27,"column":2}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":53}},"21":{"start":{"line":28,"column":0},"end":{"line":30,"column":2}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":144}},"23":{"start":{"line":31,"column":0},"end":{"line":33,"column":2}},"24":{"start":{"line":32,"column":4},"end":{"line":32,"column":149}},"25":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}},"26":{"start":{"line":35,"column":4},"end":{"line":35,"column":193}},"27":{"start":{"line":37,"column":0},"end":{"line":39,"column":2}},"28":{"start":{"line":38,"column":4},"end":{"line":38,"column":157}},"29":{"start":{"line":40,"column":0},"end":{"line":42,"column":2}},"30":{"start":{"line":41,"column":4},"end":{"line":41,"column":193}},"31":{"start":{"line":43,"column":0},"end":{"line":45,"column":2}},"32":{"start":{"line":44,"column":4},"end":{"line":44,"column":62}},"33":{"start":{"line":46,"column":0},"end":{"line":48,"column":2}},"34":{"start":{"line":47,"column":4},"end":{"line":47,"column":130}},"35":{"start":{"line":49,"column":0},"end":{"line":51,"column":2}},"36":{"start":{"line":50,"column":4},"end":{"line":50,"column":118}},"37":{"start":{"line":52,"column":0},"end":{"line":54,"column":2}},"38":{"start":{"line":53,"column":4},"end":{"line":53,"column":115}},"39":{"start":{"line":55,"column":0},"end":{"line":57,"column":2}},"40":{"start":{"line":56,"column":4},"end":{"line":56,"column":189}},"41":{"start":{"line":58,"column":0},"end":{"line":60,"column":2}},"42":{"start":{"line":59,"column":4},"end":{"line":59,"column":138}},"43":{"start":{"line":61,"column":0},"end":{"line":63,"column":2}},"44":{"start":{"line":62,"column":4},"end":{"line":62,"column":183}},"45":{"start":{"line":64,"column":0},"end":{"line":66,"column":2}},"46":{"start":{"line":65,"column":4},"end":{"line":65,"column":135}},"47":{"start":{"line":67,"column":0},"end":{"line":69,"column":2}},"48":{"start":{"line":68,"column":4},"end":{"line":68,"column":116}},"49":{"start":{"line":70,"column":0},"end":{"line":72,"column":2}},"50":{"start":{"line":71,"column":4},"end":{"line":71,"column":104}},"51":{"start":{"line":73,"column":0},"end":{"line":75,"column":2}},"52":{"start":{"line":74,"column":4},"end":{"line":74,"column":85}},"53":{"start":{"line":76,"column":0},"end":{"line":78,"column":2}},"54":{"start":{"line":77,"column":4},"end":{"line":77,"column":106}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":28},"end":{"line":9,"column":29}},"loc":{"start":{"line":9,"column":42},"end":{"line":13,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":53},"end":{"line":18,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":30},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":50},"end":{"line":21,"column":1}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":44},"end":{"line":22,"column":45}},"loc":{"start":{"line":22,"column":64},"end":{"line":24,"column":1}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":30},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":60},"end":{"line":27,"column":1}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":32},"end":{"line":28,"column":33}},"loc":{"start":{"line":28,"column":59},"end":{"line":30,"column":1}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":60},"end":{"line":33,"column":1}},"line":31},"7":{"name":"(anonymous_7)","decl":{"start":{"line":34,"column":32},"end":{"line":34,"column":33}},"loc":{"start":{"line":34,"column":67},"end":{"line":36,"column":1}},"line":34},"8":{"name":"(anonymous_8)","decl":{"start":{"line":37,"column":38},"end":{"line":37,"column":39}},"loc":{"start":{"line":37,"column":65},"end":{"line":39,"column":1}},"line":37},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":37},"end":{"line":40,"column":38}},"loc":{"start":{"line":40,"column":72},"end":{"line":42,"column":1}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":43,"column":34},"end":{"line":43,"column":35}},"loc":{"start":{"line":43,"column":52},"end":{"line":45,"column":1}},"line":43},"11":{"name":"(anonymous_11)","decl":{"start":{"line":46,"column":46},"end":{"line":46,"column":47}},"loc":{"start":{"line":46,"column":73},"end":{"line":48,"column":1}},"line":46},"12":{"name":"(anonymous_12)","decl":{"start":{"line":49,"column":26},"end":{"line":49,"column":27}},"loc":{"start":{"line":49,"column":55},"end":{"line":51,"column":1}},"line":49},"13":{"name":"(anonymous_13)","decl":{"start":{"line":52,"column":24},"end":{"line":52,"column":25}},"loc":{"start":{"line":52,"column":51},"end":{"line":54,"column":1}},"line":52},"14":{"name":"(anonymous_14)","decl":{"start":{"line":55,"column":29},"end":{"line":55,"column":30}},"loc":{"start":{"line":55,"column":58},"end":{"line":57,"column":1}},"line":55},"15":{"name":"(anonymous_15)","decl":{"start":{"line":58,"column":26},"end":{"line":58,"column":27}},"loc":{"start":{"line":58,"column":55},"end":{"line":60,"column":1}},"line":58},"16":{"name":"(anonymous_16)","decl":{"start":{"line":61,"column":27},"end":{"line":61,"column":28}},"loc":{"start":{"line":61,"column":54},"end":{"line":63,"column":1}},"line":61},"17":{"name":"(anonymous_17)","decl":{"start":{"line":64,"column":24},"end":{"line":64,"column":25}},"loc":{"start":{"line":64,"column":51},"end":{"line":66,"column":1}},"line":64},"18":{"name":"(anonymous_18)","decl":{"start":{"line":67,"column":25},"end":{"line":67,"column":26}},"loc":{"start":{"line":67,"column":56},"end":{"line":69,"column":1}},"line":67},"19":{"name":"(anonymous_19)","decl":{"start":{"line":70,"column":19},"end":{"line":70,"column":20}},"loc":{"start":{"line":70,"column":44},"end":{"line":72,"column":1}},"line":70},"20":{"name":"(anonymous_20)","decl":{"start":{"line":73,"column":19},"end":{"line":73,"column":20}},"loc":{"start":{"line":73,"column":46},"end":{"line":75,"column":1}},"line":73},"21":{"name":"(anonymous_21)","decl":{"start":{"line":76,"column":28},"end":{"line":76,"column":29}},"loc":{"start":{"line":76,"column":55},"end":{"line":78,"column":1}},"line":76}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":4,"10":4,"11":1,"12":3,"13":3,"14":3,"15":1,"16":2,"17":1,"18":2,"19":1,"20":2,"21":1,"22":1,"23":1,"24":2,"25":1,"26":2,"27":1,"28":1,"29":1,"30":2,"31":1,"32":2,"33":1,"34":1,"35":1,"36":2,"37":1,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":1,"50":0,"51":1,"52":1,"53":1,"54":1},"f":{"0":4,"1":3,"2":2,"3":2,"4":2,"5":1,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":2,"13":2,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":1,"21":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\user-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\user-controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { createHash, Hash } from 'crypto';\r\nimport { ObjectId } from 'mongodb';\r\nimport { model } from 'mongoose';\r\nimport { userSchema } from '../schemas/user-schema';\r\n\r\nconst userModel = model('User', userSchema);\r\n\r\n\r\nexport const getHashedPassword = (password: string): string => {\r\n    const sha256 = createHash('SHA256');\r\n    const hash = sha256.update(password).digest('base64');\r\n    return hash;\r\n}\r\n\r\nexport const saveUserToDatabase = (username: string, password: string): string => {\r\n    const userInstance = new userModel({ username, password });\r\n    userInstance.save();\r\n    return userInstance._id;\r\n}\r\n\r\nexport const hasExistingUsername = async (username: string): Promise<boolean> => {\r\n    return userModel.exists({ username });\r\n}\r\n\r\nexport const getUserInfoFromDatabaseByUsername = async (username: string): Promise<any> => {\r\n    return userModel.findOne({ username: username });\r\n}\r\n\r\n\r\nexport const getUserFromDatabase = async (username: string, password: string): Promise<any> => {\r\n    return userModel.findOne({ username, password });\r\n}\r\n\r\nexport const addGraphToUserCreated = async (graphId: string, userId: string): Promise<any> => {\r\n    return userModel.findByIdAndUpdate({ _id: new ObjectId(userId) }, { $push: { graphs_created: new ObjectId(graphId) } });\r\n}\r\n\r\nexport const addGraphToUserProgress = async (graphId: string, userId: string): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId) }, { $push: { graphs_progressing: { _id: new ObjectId(graphId) } } });\r\n}\r\n\r\nexport const addNodeToUserProgress = async (userId: string, graphId: string, nodeId: string): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId), 'graphs_progressing._id': new ObjectId(graphId) }, { $push: { 'graphs_progressing.$.completedNodes': nodeId } })\r\n}\r\n\r\nexport const removeGraphFromUserProgress = async (graphId: string, userId: string): Promise<any> => {\r\n    return userModel.findByIdAndUpdate({ _id: new ObjectId(userId) }, { $pull: { graphs_progressing: { _id: new ObjectId(graphId) } } });\r\n}\r\n\r\nexport const removeNodeFromUserProgress = async (userId: string, graphId: string, nodeId: string): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId), 'graphs_progressing._id': new ObjectId(graphId) }, { $pull: { 'graphs_progressing.$.completedNodes': nodeId } })\r\n}\r\n\r\nexport const getUserInfoFromDatabase = async (userId: string): Promise<any> => {\r\n    return userModel.findById(new ObjectId(userId));\r\n}\r\n\r\nexport const getUserGraphProgressionFromDatabase = async (userId: string, graphId: string): Promise<any> => {\r\n    return userModel.findById({ _id: new ObjectId(userId), 'graphs_progressing._id': new ObjectId(graphId) });\r\n}\r\n\r\nexport const hasLikedContent = async (userId: string, contentId: string): Promise<any> => {\r\n    return  userModel.exists({ _id: new ObjectId(userId), likedContent: new ObjectId(contentId)})\r\n}\r\n\r\nexport const hasLikedGraph = async (userId: string, graphId: string): Promise<any> => {\r\n    return  userModel.exists({ _id: new ObjectId(userId), likedGraphs: new ObjectId(graphId)})\r\n}\r\n\r\nexport const removeLikedContent = async (userId: string, contentId: string): Promise<any> => {\r\n    return  userModel.updateOne({ _id: new ObjectId(userId), 'likedContent': new ObjectId(contentId)}, { $pull: { 'likedContent': new ObjectId(contentId)}})\r\n}\r\n\r\nexport const addLikedContent = async (userId: string, contentId: string): Promise<any> => {\r\n    return  userModel.updateOne({ _id: new ObjectId(userId)}, { $push: { 'likedContent': new ObjectId(contentId)}})\r\n}\r\n\r\nexport const removeLikedGraph = async (userId: string, graphId: string): Promise<any> => {\r\n    return  userModel.updateOne({ _id: new ObjectId(userId), 'likedGraphs': new ObjectId(graphId)}, { $pull: { 'likedGraphs': new ObjectId(graphId)}})\r\n}\r\n\r\nexport const addLikedGraph = async (userId: string, graphId: string): Promise<any> => {\r\n    return  userModel.updateOne({ _id: new ObjectId(userId)}, { $push: { 'likedGraphs': new ObjectId(graphId)}})\r\n}\r\n\r\nexport const addAchievement = async (userId: string, achievement: any): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId)}, { $push: { 'achievements': achievement}})\r\n}\r\n\r\nexport const addBadge = async (userId: string, badge: any): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId)}, { $push: { 'badges': badge}})\r\n}\r\n\r\nexport const addImage = async (username: string, image: string): Promise<any> => {\r\n    return userModel.updateOne({ username: username}, { $set: { 'image': image}})\r\n}\r\n\r\nexport const updateUserPrivacy = async (userId: string, privacy: boolean): Promise<any> => {\r\n    return userModel.updateOne({ _id: new ObjectId(userId)}, {$set : { 'private': privacy}})\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d9ae886a52b72632d629c83dff8be923d07d48bd","contentHash":"64e9ed05c82ff6120479be74d957e3b09864bb5bc3c2c5830f47b88e1fe7d57c"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\user-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\user-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":50}},"5":{"start":{"line":8,"column":0},"end":{"line":11,"column":3}},"6":{"start":{"line":12,"column":0},"end":{"line":23,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\user-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\user-schema.ts"],"names":[],"mappings":";;;AAAA,qCAAmC;AACnC,uCAAkC;AAClC,mDAAkE;AAElE,8BAA8B;AACjB,QAAA,kBAAkB,GAAG,IAAI,iBAAM,CAAC;IACzC,OAAO,EAAE,kBAAQ;IACjB,cAAc,EAAE,CAAC,MAAM,CAAC;CAC3B,CAAC,CAAA;AAEW,QAAA,UAAU,GAAG,IAAI,iBAAM,CAAC;IACjC,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,MAAM;IAChB,cAAc,EAAE,KAAK;IACrB,kBAAkB,EAAE,CAAC,0BAAkB,CAAC;IACxC,YAAY,EAAE,CAAC,kBAAQ,CAAC;IACxB,WAAW,EAAE,CAAC,kBAAQ,CAAC;IACvB,YAAY,EAAE,CAAC,MAAM,CAAC;IACtB,MAAM,EAAE,CAAC,2BAAW,CAAC;IACrB,KAAK,EAAE,MAAM;IACb,OAAO,EAAE,OAAO;CACnB,CAAC,CAAA","sourcesContent":["import { ObjectId } from 'mongodb';\r\nimport { Schema } from 'mongoose';\r\nimport  { achievementSchema, badgeSchema } from './reward-schema';\r\n\r\n//ToDo change casing to pascal\r\nexport const graphs_progressing = new Schema({\r\n    graphId: ObjectId,\r\n    completedNodes: [String]\r\n})\r\n\r\nexport const userSchema = new Schema({\r\n    username: String,\r\n    password: String, // Password will be hashed\r\n    graphs_created: Array,\r\n    graphs_progressing: [graphs_progressing],\r\n    likedContent: [ObjectId],\r\n    likedGraphs: [ObjectId],\r\n    achievements: [String],\r\n    badges: [badgeSchema],\r\n    image: String,\r\n    private: Boolean\r\n})\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"80f494e60d7fa4b763ed7b5b481a54f6b9e01732","contentHash":"57d4024fe907746bb1447031628caf2092e807692dafef3a4e67848f1e1c0307"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\reward-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\reward-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":0},"end":{"line":9,"column":3}},"4":{"start":{"line":10,"column":0},"end":{"line":16,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\reward-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\reward-schema.ts"],"names":[],"mappings":";;;AAAA,uCAAkC;AAErB,QAAA,WAAW,GAAG,IAAI,iBAAM,CAAC;IAClC,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,MAAM;CAChB,CAAC,CAAA;AAEW,QAAA,iBAAiB,GAAG,IAAI,iBAAM,CAAC;IACxC,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,mBAAW;IACxB,KAAK,EAAE,MAAM;CAChB,CAAC,CAAA","sourcesContent":["import { Schema } from \"mongoose\";\r\n\r\nexport const badgeSchema = new Schema({\r\n    type: String,\r\n    name: String,\r\n    color: String,\r\n})\r\n\r\nexport const achievementSchema = new Schema({\r\n    type: String,\r\n    name: String,\r\n    goal: String,\r\n    rewardBadge: badgeSchema,\r\n    image: String,\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"59a5138b6dc866df49fbb6e8d81af40a90a151c6","contentHash":"4d3b7d6435618d3a0e3265fcb923e33a4b454d3e8f19211fc10f95829b583b8d"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\dummyData.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\dummyData.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":209}},"2":{"start":{"line":4,"column":0},"end":{"line":14,"column":2}},"3":{"start":{"line":15,"column":0},"end":{"line":26,"column":2}},"4":{"start":{"line":27,"column":0},"end":{"line":32,"column":7}},"5":{"start":{"line":33,"column":0},"end":{"line":42,"column":2}},"6":{"start":{"line":43,"column":0},"end":{"line":51,"column":2}},"7":{"start":{"line":52,"column":0},"end":{"line":62,"column":2}},"8":{"start":{"line":63,"column":0},"end":{"line":66,"column":2}},"9":{"start":{"line":67,"column":0},"end":{"line":79,"column":2}},"10":{"start":{"line":80,"column":0},"end":{"line":85,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\dummyData.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\dummyData.js"],"names":[],"mappings":";;;AAAa,QAAA,SAAS,GAAG;IACrB,GAAG,EAAE,WAAW;IAChB,IAAI,EAAE;QACF,EAAE,EAAE,UAAU;QACd,KAAK,EAAE,aAAa;KACvB;IACD,QAAQ,EAAE;QACN,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACP;CACJ,CAAA;AAEY,QAAA,SAAS,GAAG;IACrB,GAAG,EAAE,WAAW;IAChB,IAAI,EAAE;QACF,EAAE,EAAE,UAAU;QACd,MAAM,EAAE,cAAc;QACtB,MAAM,EAAE,cAAc;KACzB;IACD,QAAQ,EAAE;QACN,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACP;CACJ,CAAA;AAEY,QAAA,eAAe,GAAI,CAAC;QAC7B,QAAQ,EAAE,gBAAgB;QAC1B,KAAK,EAAE;YACJ,kBAAkB,EAAE,sBAAsB;SAC5C;KACJ,CAAC,CAAA;AAEW,QAAA,UAAU,GAAG;IACtB,IAAI,EAAE,CAAC,WAAW,CAAC;IACnB,IAAI,EAAE,YAAY;IAClB,WAAW,EAAE,mBAAmB;IAChC,WAAW,EAAE,0BAA0B;IACvC,KAAK,EAAE,CAAC,iBAAS,CAAC;IAClB,KAAK,EAAE,EAAE;IACT,UAAU,EAAE,uBAAe;IAC3B,KAAK,EAAE,EAAE;CACZ,CAAC;AAEW,QAAA,cAAc,GAAG;IACtB,MAAM,EAAE,0BAA0B;IAClC,MAAM,EAAE,eAAe;IACvB,KAAK,EAAE,CAAC;YACJ,OAAO,EAAE,aAAa;YACtB,SAAS,EAAE,IAAI;YACf,IAAI,EAAE,CAAC;SACV,CAAC;CACT,CAAA;AAEY,QAAA,gBAAgB,GAAG;IAC5B,IAAI,EAAE,cAAc;IACpB,IAAI,EAAE,YAAY;IAClB,WAAW,EAAE,mBAAmB;IAChC,WAAW,EAAE;QACT,IAAI,EAAE,kBAAkB;QACxB,IAAI,EAAE,kBAAkB;QACxB,KAAK,EAAE,mBAAmB;KAC7B;IACD,KAAK,EAAE,aAAa;CACvB,CAAC;AAEW,QAAA,SAAS,GAAG;IACrB,EAAC,GAAG,EAAE,WAAW,EAAC;IAClB,EAAC,GAAG,EAAE,YAAY,EAAC;CACtB,CAAA;AAEY,QAAA,SAAS,GAAG;IACrB,QAAQ,EAAE,YAAY;IACtB,QAAQ,EAAE,gBAAgB;IAC1B,cAAc,EAAE,EAAE;IAClB,YAAY,EAAE,EAAE;IAChB,UAAU,EAAE,EAAE;IACd,YAAY,EAAE,EAAE;IAChB,MAAM,EAAE,EAAE;IACV,kBAAkB,EAAE,EAAE;IACtB,OAAO,EAAE,KAAK;IACd,KAAK,EAAE,aAAa;IACpB,WAAW,EAAE,EAAE;CAClB,CAAA;AAEY,QAAA,YAAY,GAAG;IACxB,MAAM,EAAE,eAAe;IACvB,IAAI,EAAE,YAAY;IAClB,UAAU,EAAE,mBAAmB;IAC/B,KAAK,EAAE,CAAC;CACX,CAAA","sourcesContent":["export const dummyNode = {\r\n    _id: 'Dummy Oid',\r\n    data: {\r\n        id: 'Dummy Id',\r\n        label: 'Dummy Label'\r\n    },\r\n    position: {\r\n        x: 0,\r\n        y: 0\r\n    }\r\n}\r\n\r\nexport const dummyEdge = {\r\n    _id: 'Dummy Oid',\r\n    data: {\r\n        id: 'Dummy Id',\r\n        source: 'Dummy Source',\r\n        target: 'Dummy Target'\r\n    },\r\n    position: {\r\n        x: 0,\r\n        y: 0\r\n    }\r\n}\r\n\r\nexport const dummyStyleSheet =  [{\r\n    selector: 'Dummy Selector',\r\n    style: {\r\n       dummyStyleProperty: 'Dummy Style Property'\r\n    }\r\n}]\r\n\r\nexport const dummyGraph = {\r\n    tags: [\"Dummy Tag\"],\r\n    name: \"Dummy Name\",\r\n    description: \"Dummy Description\",\r\n    createdById: \"5fc65a71c522501e806a5403\",\r\n    nodes: [dummyNode],\r\n    edges: [],\r\n    styleSheet: dummyStyleSheet,\r\n    image: ''\r\n};\r\n\r\nexport const dummyObjective = {\r\n        userId: \"5fc65a71c522501e806a5403\",\r\n        nodeId: \"Dummy Node Id\",\r\n        items: [{\r\n            \"label\": \"Dummy Label\",\r\n            \"checked\": true,\r\n            \"id\": 0\r\n        }],\r\n}\r\n\r\nexport const dummyAchievement = {\r\n    type: 'Dummy Reward',\r\n    name: 'Dummy Name',\r\n    description: 'Dummy Description',\r\n    rewardBadge: {\r\n        type: 'Dummy Badge Type',\r\n        name: 'Dummy Badge Name',\r\n        color: 'Dummy Badge Color',\r\n    },\r\n    image: 'Dummy Image'\r\n};\r\n\r\nexport const dummyTags = [\r\n    {tag: 'Dummy Tag'},\r\n    {tag: 'Dummy Tag2'}\r\n]\r\n\r\nexport const dummyUser = {\r\n    username: \"Dummy User\",\r\n    password: \"Dummy Password\",\r\n    graphs_created: [],\r\n    likedContent: [],\r\n    likedGraph: [],\r\n    achievements: [],\r\n    badges: [],\r\n    graphs_progressing: [],\r\n    private: false,\r\n    image: \"Dummy Image\",\r\n    likedGraphs: []\r\n}\r\n\r\nexport const dummyContent = {\r\n    nodeId: \"Dummy Node Id\",\r\n    type: \"Dummy Type\",\r\n    externalId: \"Dummy External Id\",\r\n    score: 0,\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2ea2f13a7b85df24827bbb3ea60b7ae940cfc6d2","contentHash":"8ee62eb32e7aaf99bb97239e7701288190d914ebfb405fe3bf4c95b8a4337030"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\achievement-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\achievement-routes.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":37}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":30},"end":{"line":4,"column":81}},"4":{"start":{"line":5,"column":23},"end":{"line":5,"column":67}},"5":{"start":{"line":6,"column":16},"end":{"line":6,"column":30}},"6":{"start":{"line":8,"column":0},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":78}},"8":{"start":{"line":11,"column":25},"end":{"line":21,"column":1}},"9":{"start":{"line":22,"column":0},"end":{"line":24,"column":3}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":72}},"11":{"start":{"line":25,"column":0},"end":{"line":56,"column":3}},"12":{"start":{"line":26,"column":4},"end":{"line":35,"column":7}},"13":{"start":{"line":27,"column":8},"end":{"line":34,"column":11}},"14":{"start":{"line":30,"column":32},"end":{"line":30,"column":43}},"15":{"start":{"line":31,"column":12},"end":{"line":31,"column":66}},"16":{"start":{"line":32,"column":12},"end":{"line":32,"column":42}},"17":{"start":{"line":33,"column":12},"end":{"line":33,"column":19}},"18":{"start":{"line":36,"column":4},"end":{"line":45,"column":7}},"19":{"start":{"line":37,"column":8},"end":{"line":44,"column":11}},"20":{"start":{"line":40,"column":32},"end":{"line":40,"column":43}},"21":{"start":{"line":41,"column":12},"end":{"line":41,"column":66}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":42}},"23":{"start":{"line":43,"column":12},"end":{"line":43,"column":19}},"24":{"start":{"line":46,"column":4},"end":{"line":55,"column":7}},"25":{"start":{"line":47,"column":8},"end":{"line":54,"column":11}},"26":{"start":{"line":50,"column":38},"end":{"line":50,"column":46}},"27":{"start":{"line":51,"column":12},"end":{"line":51,"column":48}},"28":{"start":{"line":52,"column":12},"end":{"line":52,"column":42}},"29":{"start":{"line":53,"column":12},"end":{"line":53,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":7},"end":{"line":8,"column":8}},"loc":{"start":{"line":8,"column":19},"end":{"line":10,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":7},"end":{"line":22,"column":8}},"loc":{"start":{"line":22,"column":19},"end":{"line":24,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":25},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":31},"end":{"line":56,"column":1}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":27},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":37},"end":{"line":35,"column":5}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":18},"end":{"line":29,"column":19}},"loc":{"start":{"line":29,"column":27},"end":{"line":34,"column":9}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":35},"end":{"line":36,"column":36}},"loc":{"start":{"line":36,"column":45},"end":{"line":45,"column":5}},"line":36},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":18},"end":{"line":39,"column":19}},"loc":{"start":{"line":39,"column":27},"end":{"line":44,"column":9}},"line":39},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":33},"end":{"line":46,"column":34}},"loc":{"start":{"line":46,"column":43},"end":{"line":55,"column":5}},"line":46},"8":{"name":"(anonymous_8)","decl":{"start":{"line":49,"column":18},"end":{"line":49,"column":19}},"loc":{"start":{"line":49,"column":27},"end":{"line":54,"column":9}},"line":49}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\achievement-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\achievement-routes.js"],"names":[],"mappings":"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","sourcesContent":["const expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\n\r\nconst achievementController = require('../../controllers/achievement-controller');\r\nconst userController = require('../../controllers/user-controller');\r\n\r\nconst baseUrl = '/achievement'\r\nlet dummyUserId;\r\n\r\nbefore(async () => {\r\n  dummyUserId = userController.saveUserToDatabase('graphTest', 'graphTest');\r\n});\r\n\r\nconst dummyAchievement = {\r\n    type: 'Dummy Reward',\r\n    name: 'Dummy Name',\r\n    description: 'Dummy Description',\r\n    rewardBadge: {\r\n        type: 'Dummy Badge Type',\r\n        name: 'Dummy Badge Name',\r\n        color: 'Dummy Badge Color',\r\n    },\r\n    image: 'Dummy Image'\r\n};\r\n\r\nbefore(async () => {\r\n  await achievementController.addManyAchievements([dummyAchievement]);\r\n});\r\n\r\ndescribe('Achievements', () => {\r\n    it('Get Achievements', (done) => {\r\n        request(app).get(baseUrl)\r\n        .send({})\r\n        .then((res) => {\r\n            const achievement = res.body[0];\r\n            expect(achievement.type).equal(dummyAchievement.type)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get Achievements By Name', (done) => {\r\n        request(app).post(`${baseUrl}/objects`)\r\n        .send({achievementNames: [dummyAchievement.name]})\r\n        .then((res) => {\r\n            const achievement = res.body[0];\r\n            expect(achievement.type).equal(dummyAchievement.type)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Poll User Achievements', (done) => {\r\n        request(app).get(`${baseUrl}/poll/${dummyUserId}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const achievementsAdded = res.body;\r\n            expect(achievementsAdded).length(0)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b136b4b6385b83c2ddab67babbedd4366d93e1dd","contentHash":"786c3868453e31098c94639edc5f26ba256307c8d69d9ec2d794ef8f6b33372b"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\app.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":34}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":55}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":25},"end":{"line":8,"column":59}},"7":{"start":{"line":9,"column":21},"end":{"line":9,"column":51}},"8":{"start":{"line":10,"column":29},"end":{"line":10,"column":67}},"9":{"start":{"line":11,"column":27},"end":{"line":11,"column":63}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":18}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":21}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":16}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":42}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":46}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":38}},"18":{"start":{"line":20,"column":0},"end":{"line":20,"column":50}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":54}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":21}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\app.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\app.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,6BAA6B;AAC7B,mCAAgC;AAChC,wDAAgD;AAChD,sDAA8C;AAC9C,4DAAoD;AACpD,oDAA4C;AAC5C,oEAA4D;AAC5D,gEAAwD;AAExD,eAAM,EAAE,CAAC;AACT,MAAM,GAAG,GAAG,OAAO,EAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;AAChB,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAA;AACvB,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAC;AAC/B,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,qBAAU,CAAC,CAAC;AAC7B,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,wBAAa,CAAC,CAAC;AACnC,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,oBAAS,CAAC,CAAA;AAC1B,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,0BAAe,CAAC,CAAA;AACtC,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,4BAAiB,CAAC,CAAA;AAG1C,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","sourcesContent":["import * as express from 'express';\r\nimport * as cors from 'cors';\r\nimport { config } from 'dotenv';\r\nimport graphRoutes from './routes/graph-routes';\r\nimport userRoutes from './routes/user-routes';\r\nimport contentRoutes from './routes/content-routes';\r\nimport tagRoutes from './routes/tag-routes';\r\nimport achievementRoutes from './routes/achievement-routes';\r\nimport objectiveRoutes from './routes/objective-routes';\r\n\r\nconfig();\r\nconst app = express();\r\n\r\napp.use(cors());\r\napp.use(express.json())\r\napp.use('/graph', graphRoutes);\r\napp.use('/user', userRoutes);\r\napp.use('/content', contentRoutes);\r\napp.use('/tag', tagRoutes)\r\napp.use('/objective', objectiveRoutes)\r\napp.use('/achievement', achievementRoutes)\r\n\r\n\r\nmodule.exports = app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9a46cbb741ea04f1caae08a6fcef6a1bdf77f3b7","contentHash":"074563532422ed90abc9100df5c39bcde52a6fe8e8e3ba5bb733135b8bea3c24"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\graph-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\graph-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":69}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":56}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":59}},"5":{"start":{"line":7,"column":26},"end":{"line":7,"column":67}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"7":{"start":{"line":9,"column":0},"end":{"line":22,"column":3}},"8":{"start":{"line":10,"column":52},"end":{"line":10,"column":61}},"9":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":23}},"11":{"start":{"line":14,"column":19},"end":{"line":14,"column":122}},"12":{"start":{"line":15,"column":24},"end":{"line":15,"column":84}},"13":{"start":{"line":17,"column":23},"end":{"line":20,"column":6}},"14":{"start":{"line":18,"column":93},"end":{"line":18,"column":98}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":92}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":42}},"17":{"start":{"line":23,"column":0},"end":{"line":31,"column":3}},"18":{"start":{"line":24,"column":25},"end":{"line":24,"column":33}},"19":{"start":{"line":25,"column":19},"end":{"line":25,"column":75}},"20":{"start":{"line":26,"column":23},"end":{"line":29,"column":6}},"21":{"start":{"line":27,"column":68},"end":{"line":27,"column":73}},"22":{"start":{"line":28,"column":8},"end":{"line":28,"column":67}},"23":{"start":{"line":30,"column":4},"end":{"line":30,"column":29}},"24":{"start":{"line":32,"column":0},"end":{"line":42,"column":3}},"25":{"start":{"line":33,"column":19},"end":{"line":33,"column":60}},"26":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"27":{"start":{"line":35,"column":8},"end":{"line":35,"column":64}},"28":{"start":{"line":37,"column":48},"end":{"line":37,"column":56}},"29":{"start":{"line":38,"column":20},"end":{"line":38,"column":86}},"30":{"start":{"line":39,"column":4},"end":{"line":39,"column":67}},"31":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"32":{"start":{"line":41,"column":4},"end":{"line":41,"column":26}},"33":{"start":{"line":44,"column":0},"end":{"line":55,"column":3}},"34":{"start":{"line":45,"column":32},"end":{"line":45,"column":40}},"35":{"start":{"line":46,"column":21},"end":{"line":46,"column":84}},"36":{"start":{"line":47,"column":4},"end":{"line":54,"column":5}},"37":{"start":{"line":48,"column":8},"end":{"line":48,"column":24}},"38":{"start":{"line":49,"column":8},"end":{"line":49,"column":32}},"39":{"start":{"line":52,"column":8},"end":{"line":52,"column":24}},"40":{"start":{"line":53,"column":8},"end":{"line":53,"column":33}},"41":{"start":{"line":56,"column":0},"end":{"line":67,"column":3}},"42":{"start":{"line":57,"column":32},"end":{"line":57,"column":40}},"43":{"start":{"line":58,"column":21},"end":{"line":58,"column":89}},"44":{"start":{"line":59,"column":4},"end":{"line":66,"column":5}},"45":{"start":{"line":60,"column":8},"end":{"line":60,"column":24}},"46":{"start":{"line":61,"column":8},"end":{"line":61,"column":32}},"47":{"start":{"line":64,"column":8},"end":{"line":64,"column":24}},"48":{"start":{"line":65,"column":8},"end":{"line":65,"column":33}},"49":{"start":{"line":68,"column":0},"end":{"line":79,"column":3}},"50":{"start":{"line":69,"column":40},"end":{"line":69,"column":48}},"51":{"start":{"line":70,"column":21},"end":{"line":70,"column":91}},"52":{"start":{"line":71,"column":4},"end":{"line":78,"column":5}},"53":{"start":{"line":72,"column":8},"end":{"line":72,"column":24}},"54":{"start":{"line":73,"column":8},"end":{"line":73,"column":32}},"55":{"start":{"line":76,"column":8},"end":{"line":76,"column":24}},"56":{"start":{"line":77,"column":8},"end":{"line":77,"column":33}},"57":{"start":{"line":80,"column":0},"end":{"line":91,"column":3}},"58":{"start":{"line":81,"column":40},"end":{"line":81,"column":48}},"59":{"start":{"line":82,"column":21},"end":{"line":82,"column":96}},"60":{"start":{"line":83,"column":4},"end":{"line":90,"column":5}},"61":{"start":{"line":84,"column":8},"end":{"line":84,"column":24}},"62":{"start":{"line":85,"column":8},"end":{"line":85,"column":32}},"63":{"start":{"line":88,"column":8},"end":{"line":88,"column":24}},"64":{"start":{"line":89,"column":8},"end":{"line":89,"column":33}},"65":{"start":{"line":92,"column":0},"end":{"line":104,"column":3}},"66":{"start":{"line":93,"column":18},"end":{"line":93,"column":78}},"67":{"start":{"line":94,"column":66},"end":{"line":94,"column":71}},"68":{"start":{"line":95,"column":25},"end":{"line":101,"column":5}},"69":{"start":{"line":102,"column":4},"end":{"line":102,"column":38}},"70":{"start":{"line":103,"column":4},"end":{"line":103,"column":20}},"71":{"start":{"line":105,"column":0},"end":{"line":115,"column":3}},"72":{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},"73":{"start":{"line":107,"column":8},"end":{"line":107,"column":28}},"74":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"75":{"start":{"line":110,"column":8},"end":{"line":110,"column":28}},"76":{"start":{"line":112,"column":21},"end":{"line":112,"column":92}},"77":{"start":{"line":113,"column":4},"end":{"line":113,"column":32}},"78":{"start":{"line":114,"column":4},"end":{"line":114,"column":20}},"79":{"start":{"line":116,"column":0},"end":{"line":121,"column":3}},"80":{"start":{"line":117,"column":27},"end":{"line":117,"column":35}},"81":{"start":{"line":118,"column":21},"end":{"line":118,"column":104}},"82":{"start":{"line":119,"column":4},"end":{"line":119,"column":32}},"83":{"start":{"line":120,"column":4},"end":{"line":120,"column":20}},"84":{"start":{"line":122,"column":0},"end":{"line":126,"column":3}},"85":{"start":{"line":123,"column":21},"end":{"line":123,"column":81}},"86":{"start":{"line":124,"column":4},"end":{"line":124,"column":50}},"87":{"start":{"line":125,"column":4},"end":{"line":125,"column":20}},"88":{"start":{"line":127,"column":0},"end":{"line":131,"column":3}},"89":{"start":{"line":128,"column":21},"end":{"line":128,"column":98}},"90":{"start":{"line":129,"column":4},"end":{"line":129,"column":32}},"91":{"start":{"line":130,"column":4},"end":{"line":130,"column":20}},"92":{"start":{"line":132,"column":0},"end":{"line":142,"column":3}},"93":{"start":{"line":133,"column":28},"end":{"line":133,"column":38}},"94":{"start":{"line":134,"column":24},"end":{"line":134,"column":32}},"95":{"start":{"line":135,"column":4},"end":{"line":141,"column":7}},"96":{"start":{"line":136,"column":8},"end":{"line":136,"column":36}},"97":{"start":{"line":137,"column":8},"end":{"line":137,"column":24}},"98":{"start":{"line":139,"column":8},"end":{"line":140,"column":28}},"99":{"start":{"line":143,"column":0},"end":{"line":143,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":21},"end":{"line":9,"column":22}},"loc":{"start":{"line":9,"column":41},"end":{"line":22,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":34},"end":{"line":17,"column":35}},"loc":{"start":{"line":17,"column":45},"end":{"line":20,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":23}},"loc":{"start":{"line":23,"column":42},"end":{"line":31,"column":1}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":34},"end":{"line":26,"column":35}},"loc":{"start":{"line":26,"column":45},"end":{"line":29,"column":5}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":199},"end":{"line":32,"column":200}},"loc":{"start":{"line":32,"column":219},"end":{"line":42,"column":1}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":44,"column":61},"end":{"line":44,"column":62}},"loc":{"start":{"line":44,"column":81},"end":{"line":55,"column":1}},"line":44},"6":{"name":"(anonymous_6)","decl":{"start":{"line":56,"column":68},"end":{"line":56,"column":69}},"loc":{"start":{"line":56,"column":88},"end":{"line":67,"column":1}},"line":56},"7":{"name":"(anonymous_7)","decl":{"start":{"line":68,"column":66},"end":{"line":68,"column":67}},"loc":{"start":{"line":68,"column":86},"end":{"line":79,"column":1}},"line":68},"8":{"name":"(anonymous_8)","decl":{"start":{"line":80,"column":73},"end":{"line":80,"column":74}},"loc":{"start":{"line":80,"column":93},"end":{"line":91,"column":1}},"line":80},"9":{"name":"(anonymous_9)","decl":{"start":{"line":92,"column":71},"end":{"line":92,"column":72}},"loc":{"start":{"line":92,"column":91},"end":{"line":104,"column":1}},"line":92},"10":{"name":"(anonymous_10)","decl":{"start":{"line":105,"column":108},"end":{"line":105,"column":109}},"loc":{"start":{"line":105,"column":128},"end":{"line":115,"column":1}},"line":105},"11":{"name":"(anonymous_11)","decl":{"start":{"line":116,"column":114},"end":{"line":116,"column":115}},"loc":{"start":{"line":116,"column":134},"end":{"line":121,"column":1}},"line":116},"12":{"name":"(anonymous_12)","decl":{"start":{"line":122,"column":113},"end":{"line":122,"column":114}},"loc":{"start":{"line":122,"column":133},"end":{"line":126,"column":1}},"line":122},"13":{"name":"(anonymous_13)","decl":{"start":{"line":127,"column":114},"end":{"line":127,"column":115}},"loc":{"start":{"line":127,"column":134},"end":{"line":131,"column":1}},"line":127},"14":{"name":"(anonymous_14)","decl":{"start":{"line":132,"column":116},"end":{"line":132,"column":117}},"loc":{"start":{"line":132,"column":136},"end":{"line":142,"column":1}},"line":132},"15":{"name":"(anonymous_15)","decl":{"start":{"line":135,"column":65},"end":{"line":135,"column":66}},"loc":{"start":{"line":135,"column":71},"end":{"line":138,"column":5}},"line":135},"16":{"name":"(anonymous_16)","decl":{"start":{"line":138,"column":13},"end":{"line":138,"column":14}},"loc":{"start":{"line":138,"column":20},"end":{"line":141,"column":5}},"line":138}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},{"start":{"line":11,"column":4},"end":{"line":13,"column":5}}],"line":11},"1":{"loc":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},{"start":{"line":34,"column":4},"end":{"line":36,"column":5}}],"line":34},"2":{"loc":{"start":{"line":47,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":54,"column":5}},{"start":{"line":47,"column":4},"end":{"line":54,"column":5}}],"line":47},"3":{"loc":{"start":{"line":59,"column":4},"end":{"line":66,"column":5}},"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":66,"column":5}},{"start":{"line":59,"column":4},"end":{"line":66,"column":5}}],"line":59},"4":{"loc":{"start":{"line":71,"column":4},"end":{"line":78,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":78,"column":5}},{"start":{"line":71,"column":4},"end":{"line":78,"column":5}}],"line":71},"5":{"loc":{"start":{"line":83,"column":4},"end":{"line":90,"column":5}},"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":90,"column":5}},{"start":{"line":83,"column":4},"end":{"line":90,"column":5}}],"line":83},"6":{"loc":{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},{"start":{"line":106,"column":4},"end":{"line":108,"column":5}}],"line":106},"7":{"loc":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},{"start":{"line":109,"column":4},"end":{"line":111,"column":5}}],"line":109}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":1,"11":2,"12":2,"13":2,"14":4,"15":4,"16":2,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":2,"26":2,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":2,"35":2,"36":2,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":0,"48":0,"49":1,"50":2,"51":2,"52":2,"53":1,"54":1,"55":1,"56":1,"57":1,"58":2,"59":2,"60":2,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":2,"73":1,"74":2,"75":1,"76":2,"77":2,"78":2,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":0,"90":0,"91":0,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":0,"99":1},"f":{"0":2,"1":4,"2":1,"3":1,"4":2,"5":2,"6":1,"7":2,"8":2,"9":1,"10":2,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0},"b":{"0":[1,1],"1":[1,1],"2":[1,1],"3":[1,0],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\graph-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\graph-routes.ts"],"names":[],"mappings":"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","sourcesContent":["import { Router } from 'express';\r\nimport { getGraphFromDatabase, createNewGraph, updateGraphInDatabase, getGraphViewsFromDatabase, getGraphViewsCount, createImageFromGraphData, updateGraphStyleSheetInDatabase, getGraphsFromDatabase, updateGraphPrivacy } from '../controllers/graph-controller';\r\nimport { body, param, validationResult } from 'express-validator';\r\nimport { authenticateToken } from '../utils/authentication';\r\nimport { addGraphToUserCreated, addGraphToUserProgress, addNodeToUserProgress, getUserFromDatabase, removeGraphFromUserProgress, removeNodeFromUserProgress } from '../controllers/user-controller';\r\n\r\nconst router = Router();\r\n\r\n\r\nrouter.get('/views', async (req, res) => {\r\n  let {name, tags: tagsQuery, page, pageSize} : any = req.query;\r\n  if (!tagsQuery) {\r\n    tagsQuery = [];\r\n  }\r\n  const graphs = await getGraphViewsFromDatabase(name, tagsQuery, parseInt(page), parseInt(pageSize));\r\n  const graphAmount = await getGraphViewsCount(name, tagsQuery);\r\n\r\n  // Remove the unnecessary fields\r\n  const graphViews = graphs.map((graph: any) => {\r\n    const { id, name, description, createdById, image, tags, private: privacy, score } = graph\r\n    return { id, name, description, createdById, image, tags, private: privacy, score}\r\n  })\r\n  \r\n  res.json({graphViews, graphAmount});\r\n});\r\n\r\nrouter.post('/views', async (req, res) => {\r\n  const { graphIds } = req.body;\r\n  const graphs: any = await getGraphsFromDatabase(graphIds)\r\n\r\n  const graphViews = graphs.map((graph: any) => {\r\n    const { id, name, description, createdById, image, tags } = graph\r\n    return { id, name, description, createdById, image, tags }\r\n  })\r\n\r\n  res.json({graphViews});\r\n});\r\n\r\nrouter.post('/create', [body('name').exists(), body('description').exists(), body('userId').exists(), authenticateToken], async (req, res) => {\r\n  const errors = validationResult(req);\r\n  if (!errors.isEmpty()) {\r\n    return res.status(400).json({ errors: errors.array() });\r\n  }\r\n  const { userId, name, description, tags } = req.body;\r\n  const graphId = createNewGraph(name, description, userId, tags);\r\n  await addGraphToUserCreated(graphId, userId);\r\n  res.status(200)\r\n  res.json({ graphId });\r\n});\r\n\r\n//TODO add validation to prevent same graph being added twice\r\nrouter.post('/progress', authenticateToken, async (req, res) => {\r\n  const { graphId, userId } = req.body;\r\n  const response = await addGraphToUserProgress(graphId, userId);\r\n  if (response.nModified === 1) {\r\n    res.status(200);\r\n    res.json({ res: true });\r\n  } else {\r\n    res.status(400);\r\n    res.json({ res: false });\r\n  }\r\n})\r\n\r\nrouter.post('/progress/remove', authenticateToken, async (req, res) => {\r\n  const { graphId, userId } = req.body;\r\n  const response = await removeGraphFromUserProgress(graphId, userId);\r\n  if (response) {\r\n    res.status(200)\r\n    res.json({ res: true });\r\n  } else {\r\n    res.status(400)\r\n    res.json({ res: false });\r\n  }\r\n})\r\n\r\nrouter.post('/progress/node', authenticateToken, async (req, res) => {\r\n  const { graphId, userId, nodeId } = req.body;\r\n  const response = await addNodeToUserProgress(userId, graphId, nodeId);\r\n  if (response.nModified === 1) {\r\n    res.status(200)\r\n    res.json({ res: true });\r\n  } else {\r\n    res.status(400)\r\n    res.json({ res: false });\r\n  }\r\n})\r\n\r\nrouter.post('/progress/node/remove', authenticateToken, async (req, res) => {\r\n  const { graphId, userId, nodeId } = req.body;\r\n  const response = await removeNodeFromUserProgress(userId, graphId, nodeId);\r\n  if (response.nModified) {\r\n    res.status(200)\r\n    res.json({ res: true });\r\n  } else {\r\n    res.status(400)\r\n    res.json({ res: false });\r\n  }\r\n})\r\n\r\nrouter.get('/:id', [param('id').isAlphanumeric()], async (req, res) => {\r\n  const graph: any = await getGraphFromDatabase(req.params.id);\r\n  const {name, description, nodes, edges, private: privacy } = graph;\r\n  const dataToReturn = {\r\n    name,\r\n    nodes,\r\n    description,\r\n    edges,\r\n    private: privacy,\r\n  }\r\n  res.json({ graph: dataToReturn });\r\n  res.status(200)\r\n})\r\n\r\nrouter.post('/:id', [param('id').isAlphanumeric(), authenticateToken], async (req, res) => {\r\n  if (!req.body.nodes) {\r\n    req.body.nodes = [];\r\n  }\r\n  if (!req.body.edges) {\r\n    req.body.edges = [];\r\n  }\r\n  const response = await updateGraphInDatabase(req.params.id, req.body);\r\n  res.json({ res: response });\r\n  res.status(200)\r\n})\r\n\r\nrouter.post('/:id/style', [param('id').isAlphanumeric(), authenticateToken], async (req, res) => {\r\n  const { styleSheet } = req.body;\r\n  const response = await updateGraphStyleSheetInDatabase(req.params.id, styleSheet);\r\n  res.json({ res: response });\r\n  res.status(200)\r\n})\r\n\r\nrouter.get('/:id/style', [param('id').isAlphanumeric(), authenticateToken], async (req, res) => {\r\n  const response: any = await getGraphFromDatabase(req.params.id);\r\n  res.json({ styleSheet: response.styleSheet });\r\n  res.status(200)\r\n})\r\n\r\nrouter.post('/:id/image', [param('id').isAlphanumeric(), authenticateToken], async (req, res) => {\r\n  const response = createImageFromGraphData(req.params.id, req.body.elements);\r\n  res.json({ res: response });\r\n  res.status(200)\r\n})\r\n\r\nrouter.post('/:id/privacy', [param('id').isAlphanumeric(), authenticateToken], async (req , res) => {\r\n  const { id: graphId } = req.params;\r\n  const { privacy } = req.body;\r\n  updateGraphPrivacy(graphId, privacy).then(() => {\r\n      res.json({ success: true });\r\n      res.status(200)\r\n  }).catch((e) => {\r\n      res.json({error: e}),\r\n      res.status(400)\r\n  })\r\n})\r\n\r\n\r\n\r\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f867fbfcf7ac54a0f7efc4c3cae33631133fe1d3","contentHash":"28ead00dca493716711d68defd9e426f3f0e5b1258a6c562b3a2a2a2240a6539"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\graph-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\graph-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":359}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":57}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":14},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":18},"end":{"line":9,"column":38}},"8":{"start":{"line":10,"column":19},"end":{"line":10,"column":72}},"9":{"start":{"line":11,"column":0},"end":{"line":15,"column":2}},"10":{"start":{"line":12,"column":26},"end":{"line":12,"column":82}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":25}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":40}},"13":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":48}},"15":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":56}},"17":{"start":{"line":22,"column":0},"end":{"line":29,"column":2}},"18":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":135}},"20":{"start":{"line":27,"column":8},"end":{"line":27,"column":109}},"21":{"start":{"line":30,"column":0},"end":{"line":37,"column":2}},"22":{"start":{"line":31,"column":4},"end":{"line":36,"column":5}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":99}},"24":{"start":{"line":35,"column":8},"end":{"line":35,"column":73}},"25":{"start":{"line":38,"column":0},"end":{"line":40,"column":2}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":155}},"27":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"28":{"start":{"line":42,"column":4},"end":{"line":42,"column":91}},"29":{"start":{"line":44,"column":0},"end":{"line":63,"column":2}},"30":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":38}},"32":{"start":{"line":47,"column":15},"end":{"line":47,"column":25}},"33":{"start":{"line":48,"column":4},"end":{"line":62,"column":7}},"34":{"start":{"line":49,"column":8},"end":{"line":59,"column":11}},"35":{"start":{"line":61,"column":8},"end":{"line":61,"column":89}},"36":{"start":{"line":64,"column":0},"end":{"line":66,"column":2}},"37":{"start":{"line":65,"column":4},"end":{"line":65,"column":108}},"38":{"start":{"line":67,"column":0},"end":{"line":69,"column":2}},"39":{"start":{"line":68,"column":4},"end":{"line":68,"column":107}},"40":{"start":{"line":70,"column":0},"end":{"line":72,"column":2}},"41":{"start":{"line":71,"column":4},"end":{"line":71,"column":107}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":25},"end":{"line":11,"column":26}},"loc":{"start":{"line":11,"column":67},"end":{"line":15,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":31},"end":{"line":16,"column":32}},"loc":{"start":{"line":16,"column":45},"end":{"line":18,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":32},"end":{"line":19,"column":33}},"loc":{"start":{"line":19,"column":47},"end":{"line":21,"column":1}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":36},"end":{"line":22,"column":37}},"loc":{"start":{"line":22,"column":74},"end":{"line":29,"column":1}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":29},"end":{"line":30,"column":30}},"loc":{"start":{"line":30,"column":51},"end":{"line":37,"column":1}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":32},"end":{"line":38,"column":33}},"loc":{"start":{"line":38,"column":52},"end":{"line":40,"column":1}},"line":38},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":42},"end":{"line":41,"column":43}},"loc":{"start":{"line":41,"column":68},"end":{"line":43,"column":1}},"line":41},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":35},"end":{"line":44,"column":36}},"loc":{"start":{"line":44,"column":53},"end":{"line":63,"column":1}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":22},"end":{"line":48,"column":23}},"loc":{"start":{"line":48,"column":34},"end":{"line":60,"column":5}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":60,"column":12},"end":{"line":60,"column":13}},"loc":{"start":{"line":60,"column":27},"end":{"line":62,"column":5}},"line":60},"10":{"name":"(anonymous_10)","decl":{"start":{"line":64,"column":29},"end":{"line":64,"column":30}},"loc":{"start":{"line":64,"column":51},"end":{"line":66,"column":1}},"line":64},"11":{"name":"(anonymous_11)","decl":{"start":{"line":67,"column":30},"end":{"line":67,"column":31}},"loc":{"start":{"line":67,"column":51},"end":{"line":69,"column":1}},"line":67},"12":{"name":"(anonymous_12)","decl":{"start":{"line":70,"column":31},"end":{"line":70,"column":32}},"loc":{"start":{"line":70,"column":52},"end":{"line":72,"column":1}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},{"start":{"line":23,"column":4},"end":{"line":28,"column":5}}],"line":23},"1":{"loc":{"start":{"line":31,"column":4},"end":{"line":36,"column":5}},"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":36,"column":5}},{"start":{"line":31,"column":4},"end":{"line":36,"column":5}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":3,"11":3,"12":3,"13":1,"14":2,"15":1,"16":1,"17":1,"18":2,"19":1,"20":1,"21":1,"22":2,"23":1,"24":1,"25":1,"26":2,"27":1,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1},"f":{"0":3,"1":2,"2":1,"3":2,"4":2,"5":2,"6":1,"7":0,"8":0,"9":0,"10":1,"11":1,"12":1},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\graph-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\graph-controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { graphSchema } from '../schemas/graph-schema';\r\nimport { model } from 'mongoose';\r\nimport { ObjectId } from 'mongodb';\r\nimport * as cytosnap from 'cytosnap';\r\nimport * as dagre from 'cytoscape-dagre';\r\nimport * as cytoscape from 'cytoscape';\r\n\r\nconst graphModel = model('Graph', graphSchema);\r\n\r\n\r\nexport const createNewGraph = (name: string, description: string, createdById: string, tags: string[]): string => {\r\n    const graphInstance = new graphModel({ name, description, createdById, tags });\r\n    graphInstance.save()\r\n    return graphInstance._id.toString();\r\n}\r\n\r\nexport const getGraphFromDatabase = async (id: string) => {\r\n    return await graphModel.findById(id).exec();\r\n}\r\n\r\nexport const getGraphsFromDatabase = async (ids) => {\r\n    return await graphModel.find({_id: {$in: ids}})\r\n}\r\n\r\nexport const getGraphViewsFromDatabase = async (name, tags, page, pageSize) => {\r\n    if (tags.length > 0) {\r\n        return await graphModel.find({name: new RegExp(name), tags: {$in: [...tags]}}).skip((page-1) * pageSize).limit(pageSize);\r\n    } else {\r\n        return await graphModel.find({name: new RegExp(name)}).skip((page-1) * pageSize).limit(pageSize);\r\n    } \r\n\r\n}\r\n\r\nexport const getGraphViewsCount = async (name, tags) => {\r\n    if (tags.length > 0) {\r\n        return await graphModel.find({name: new RegExp(name), tags: {$in: [...tags]}}).count();\r\n    } else {\r\n        return await graphModel.find({name: new RegExp(name)}).count();\r\n    } \r\n\r\n}\r\n\r\nexport const updateGraphInDatabase = async (id: string, body: any): Promise<any> => {\r\n    return await graphModel.updateOne({ _id: new ObjectId(id) }, { edges: body.edges, nodes: body.nodes, image: body.image, style: body.style})\r\n}\r\n\r\nexport const updateGraphStyleSheetInDatabase = async (id: string, styleSheet: any): Promise<any> => {\r\n    return await graphModel.updateOne({ _id: new ObjectId(id) }, { styleSheet })\r\n}\r\n\r\nexport const createImageFromGraphData = (id: string, elements: any) => {\r\n    cytoscape.use(dagre)\r\n    cytosnap.use(['cytoscape-dagre']);\r\n    var snap = cytosnap();\r\n    snap.start().then(function () {\r\n        return snap.shot({\r\n            elements: elements.elements,\r\n            resolvesTo: 'base64uri',\r\n            layout: {\r\n                name: 'dagre'\r\n            },\r\n            format: 'png',\r\n            width: 400,\r\n            height: 200,\r\n            background: 'transparent'\r\n        });\r\n    }).then(function (img) {\r\n        return graphModel.updateOne({ _id: new ObjectId(id) }, { image: img })\r\n    });\r\n}\r\n\r\nexport const updateGraphPrivacy = (graphId: string, privacy: boolean) => {\r\n    return graphModel.updateOne({ _id: new ObjectId(graphId)}, {$set: {'private': privacy}});\r\n}\r\n\r\nexport const incrementGraphScore = async (contentId: string) => {\r\n    return await graphModel.updateOne({_id: new ObjectId(contentId)}, {$inc: {score: +1}})\r\n}\r\n\r\nexport const decerementGraphScore = async (contentId: string) => {\r\n  return await graphModel.updateOne({_id: new ObjectId(contentId)}, {$inc: {score: -1}})\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea47bb26193b4e2c1c4336d38ad9e987041d461a","contentHash":"c3dc3a80fc57ed6519fcedf65ed60348342a9ea326362069c5ce11f14fd5aca2"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\graph-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\graph-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":52}},"4":{"start":{"line":6,"column":0},"end":{"line":19,"column":3}},"5":{"start":{"line":20,"column":19},"end":{"line":30,"column":2}},"6":{"start":{"line":31,"column":14},"end":{"line":34,"column":2}},"7":{"start":{"line":35,"column":0},"end":{"line":46,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\graph-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\graph-schema.ts"],"names":[],"mappings":";;;AAAA,uCAAkC;AAClC,qDAAiD;AAGpC,QAAA,UAAU,GAAG,IAAI,iBAAM,CAAC;IACjC,IAAI,EAAE;QACF,EAAE,EAAE,MAAM;QACV,KAAK,EAAE,MAAM;QACb,WAAW,EAAE,MAAM;QACnB,SAAS,EAAE,OAAO;QAClB,OAAO,EAAE,CAAC,8BAAa,CAAC;QACxB,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,KAAK;KAC3B;IACD,QAAQ,EAAE;QACN,CAAC,EAAE,MAAM;QACT,CAAC,EAAE,MAAM;KACZ;CACJ,CAAC,CAAA;AAEF,MAAM,UAAU,GAAG,IAAI,iBAAM,CAAC;IAC1B,IAAI,EAAE;QACF,EAAE,EAAE,MAAM;QACV,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM;KACjB;IACD,QAAQ,EAAE;QACN,CAAC,EAAE,MAAM;QACT,CAAC,EAAE,MAAM;KACZ;CACJ,CAAC,CAAA;AAEF,MAAM,KAAK,GAAG,IAAI,iBAAM,CAAC;IACrB,QAAQ,EAAE,MAAM;IAChB,KAAK,EAAE,iBAAM,CAAC,KAAK,CAAC,KAAK;CAC5B,CAAC,CAAA;AAEW,QAAA,WAAW,GAAG,IAAI,iBAAM,CAAC;IAClC,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,MAAM;IACnB,WAAW,EAAE,MAAM;IACnB,KAAK,EAAE,MAAM;IACb,KAAK,EAAE,CAAC,kBAAU,CAAC;IACnB,KAAK,EAAE,CAAC,UAAU,CAAC;IACnB,UAAU,EAAE,CAAC,KAAK,CAAC;IACnB,IAAI,EAAE,CAAC,MAAM,CAAC;IACd,OAAO,EAAE,OAAO;IAChB,KAAK,EAAE,MAAM;CAChB,CAAC,CAAA","sourcesContent":["import { Schema } from 'mongoose';\r\nimport { contentSchema } from './content-schema';\r\n\r\n\r\nexport const nodeSchema = new Schema({\r\n    data: {\r\n        id: String,\r\n        label: String,\r\n        description: String,\r\n        completed: Boolean,\r\n        content: [contentSchema],\r\n        type: Schema.Types.Mixed,\r\n    },\r\n    position: {\r\n        x: Number,\r\n        y: Number\r\n    },\r\n})\r\n\r\nconst edgeSchema = new Schema({\r\n    data: {\r\n        id: String,\r\n        source: String,\r\n        target: String\r\n    },\r\n    position: {\r\n        x: Number,\r\n        y: Number\r\n    }\r\n})\r\n\r\nconst style = new Schema({\r\n    selector: String,\r\n    style: Schema.Types.Mixed\r\n})\r\n\r\nexport const graphSchema = new Schema({\r\n    name: String,\r\n    description: String,\r\n    createdById: String,\r\n    image: String,\r\n    nodes: [nodeSchema],\r\n    edges: [edgeSchema],\r\n    styleSheet: [style],\r\n    tags: [String],\r\n    private: Boolean,\r\n    score: Number,\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"368cf0493b857ee0f708715b19f6139ba09126d8","contentHash":"b02ca3432dec283847a46e03fbb4dcfd013b8c03a250bd78c6b992072048638f"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\content-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\content-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":0},"end":{"line":10,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\content-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\content-schema.ts"],"names":[],"mappings":";;;AAAA,uCAAkC;AAErB,QAAA,aAAa,GAAG,IAAI,iBAAM,CAAC;IACpC,MAAM,EAAE,MAAM;IACd,IAAI,EAAE,MAAM;IACZ,UAAU,EAAE,MAAM;IAClB,KAAK,EAAE,MAAM;CAChB,CAAC,CAAA","sourcesContent":["import { Schema } from \"mongoose\";\n\nexport const contentSchema = new Schema({\n    nodeId: String,\n    type: String,\n    externalId: String,\n    score: Number,\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"491a51163d2e625bd6eaa8ddb38a3111de7ba233","contentHash":"76a77a4f5bb52b34909706d24904b78a298a1a957181ed0679e9ee7af5a59071"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\user-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\user-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":59}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":56}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":67}},"5":{"start":{"line":7,"column":29},"end":{"line":7,"column":73}},"6":{"start":{"line":8,"column":23},"end":{"line":8,"column":55}},"7":{"start":{"line":9,"column":27},"end":{"line":9,"column":69}},"8":{"start":{"line":10,"column":15},"end":{"line":10,"column":33}},"9":{"start":{"line":11,"column":0},"end":{"line":29,"column":3}},"10":{"start":{"line":12,"column":19},"end":{"line":12,"column":60}},"11":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":64}},"13":{"start":{"line":16,"column":35},"end":{"line":16,"column":43}},"14":{"start":{"line":17,"column":27},"end":{"line":17,"column":72}},"15":{"start":{"line":18,"column":4},"end":{"line":28,"column":7}},"16":{"start":{"line":19,"column":8},"end":{"line":27,"column":9}},"17":{"start":{"line":20,"column":12},"end":{"line":20,"column":28}},"18":{"start":{"line":21,"column":12},"end":{"line":21,"column":59}},"19":{"start":{"line":24,"column":23},"end":{"line":24,"column":85}},"20":{"start":{"line":25,"column":12},"end":{"line":25,"column":28}},"21":{"start":{"line":26,"column":12},"end":{"line":26,"column":37}},"22":{"start":{"line":30,"column":0},"end":{"line":48,"column":3}},"23":{"start":{"line":31,"column":19},"end":{"line":31,"column":60}},"24":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"25":{"start":{"line":33,"column":8},"end":{"line":33,"column":64}},"26":{"start":{"line":35,"column":35},"end":{"line":35,"column":43}},"27":{"start":{"line":36,"column":27},"end":{"line":36,"column":72}},"28":{"start":{"line":37,"column":4},"end":{"line":47,"column":7}},"29":{"start":{"line":38,"column":8},"end":{"line":46,"column":9}},"30":{"start":{"line":39,"column":12},"end":{"line":39,"column":28}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":52}},"32":{"start":{"line":43,"column":26},"end":{"line":43,"column":90}},"33":{"start":{"line":44,"column":12},"end":{"line":44,"column":28}},"34":{"start":{"line":45,"column":12},"end":{"line":45,"column":32}},"35":{"start":{"line":49,"column":0},"end":{"line":64,"column":3}},"36":{"start":{"line":50,"column":27},"end":{"line":50,"column":37}},"37":{"start":{"line":51,"column":4},"end":{"line":63,"column":7}},"38":{"start":{"line":52,"column":8},"end":{"line":62,"column":9}},"39":{"start":{"line":53,"column":12},"end":{"line":53,"column":28}},"40":{"start":{"line":54,"column":12},"end":{"line":54,"column":52}},"41":{"start":{"line":57,"column":39},"end":{"line":57,"column":81}},"42":{"start":{"line":58,"column":12},"end":{"line":58,"column":28}},"43":{"start":{"line":59,"column":12},"end":{"line":61,"column":49}},"44":{"start":{"line":65,"column":0},"end":{"line":80,"column":3}},"45":{"start":{"line":66,"column":25},"end":{"line":66,"column":33}},"46":{"start":{"line":67,"column":4},"end":{"line":79,"column":7}},"47":{"start":{"line":68,"column":8},"end":{"line":78,"column":9}},"48":{"start":{"line":69,"column":12},"end":{"line":69,"column":28}},"49":{"start":{"line":70,"column":12},"end":{"line":70,"column":52}},"50":{"start":{"line":73,"column":39},"end":{"line":73,"column":81}},"51":{"start":{"line":74,"column":12},"end":{"line":74,"column":28}},"52":{"start":{"line":75,"column":12},"end":{"line":77,"column":41}},"53":{"start":{"line":81,"column":0},"end":{"line":99,"column":3}},"54":{"start":{"line":82,"column":32},"end":{"line":82,"column":40}},"55":{"start":{"line":83,"column":4},"end":{"line":98,"column":8}},"56":{"start":{"line":84,"column":8},"end":{"line":97,"column":9}},"57":{"start":{"line":85,"column":12},"end":{"line":85,"column":28}},"58":{"start":{"line":86,"column":12},"end":{"line":86,"column":52}},"59":{"start":{"line":89,"column":35},"end":{"line":93,"column":17}},"60":{"start":{"line":90,"column":16},"end":{"line":92,"column":17}},"61":{"start":{"line":91,"column":20},"end":{"line":91,"column":32}},"62":{"start":{"line":94,"column":35},"end":{"line":94,"column":86}},"63":{"start":{"line":95,"column":12},"end":{"line":95,"column":28}},"64":{"start":{"line":96,"column":12},"end":{"line":96,"column":41}},"65":{"start":{"line":100,"column":0},"end":{"line":124,"column":3}},"66":{"start":{"line":101,"column":34},"end":{"line":101,"column":42}},"67":{"start":{"line":102,"column":4},"end":{"line":123,"column":8}},"68":{"start":{"line":103,"column":8},"end":{"line":122,"column":9}},"69":{"start":{"line":104,"column":12},"end":{"line":104,"column":66}},"70":{"start":{"line":105,"column":12},"end":{"line":111,"column":15}},"71":{"start":{"line":106,"column":16},"end":{"line":106,"column":32}},"72":{"start":{"line":107,"column":16},"end":{"line":107,"column":51}},"73":{"start":{"line":109,"column":16},"end":{"line":109,"column":32}},"74":{"start":{"line":110,"column":16},"end":{"line":110,"column":39}},"75":{"start":{"line":114,"column":12},"end":{"line":114,"column":67}},"76":{"start":{"line":115,"column":12},"end":{"line":121,"column":15}},"77":{"start":{"line":116,"column":16},"end":{"line":116,"column":32}},"78":{"start":{"line":117,"column":16},"end":{"line":117,"column":54}},"79":{"start":{"line":119,"column":16},"end":{"line":119,"column":32}},"80":{"start":{"line":120,"column":16},"end":{"line":120,"column":39}},"81":{"start":{"line":125,"column":0},"end":{"line":149,"column":3}},"82":{"start":{"line":126,"column":32},"end":{"line":126,"column":40}},"83":{"start":{"line":127,"column":4},"end":{"line":148,"column":8}},"84":{"start":{"line":128,"column":8},"end":{"line":147,"column":9}},"85":{"start":{"line":129,"column":12},"end":{"line":129,"column":60}},"86":{"start":{"line":130,"column":12},"end":{"line":136,"column":15}},"87":{"start":{"line":131,"column":16},"end":{"line":131,"column":32}},"88":{"start":{"line":132,"column":16},"end":{"line":132,"column":51}},"89":{"start":{"line":134,"column":16},"end":{"line":134,"column":32}},"90":{"start":{"line":135,"column":16},"end":{"line":135,"column":39}},"91":{"start":{"line":139,"column":12},"end":{"line":139,"column":61}},"92":{"start":{"line":140,"column":12},"end":{"line":146,"column":15}},"93":{"start":{"line":141,"column":16},"end":{"line":141,"column":32}},"94":{"start":{"line":142,"column":16},"end":{"line":142,"column":54}},"95":{"start":{"line":144,"column":16},"end":{"line":144,"column":32}},"96":{"start":{"line":145,"column":16},"end":{"line":145,"column":39}},"97":{"start":{"line":150,"column":0},"end":{"line":161,"column":3}},"98":{"start":{"line":151,"column":32},"end":{"line":151,"column":40}},"99":{"start":{"line":152,"column":4},"end":{"line":160,"column":7}},"100":{"start":{"line":153,"column":8},"end":{"line":156,"column":9}},"101":{"start":{"line":154,"column":12},"end":{"line":154,"column":28}},"102":{"start":{"line":155,"column":12},"end":{"line":155,"column":40}},"103":{"start":{"line":158,"column":8},"end":{"line":158,"column":24}},"104":{"start":{"line":159,"column":8},"end":{"line":159,"column":31}},"105":{"start":{"line":162,"column":0},"end":{"line":171,"column":3}},"106":{"start":{"line":163,"column":25},"end":{"line":163,"column":35}},"107":{"start":{"line":164,"column":4},"end":{"line":170,"column":7}},"108":{"start":{"line":165,"column":8},"end":{"line":165,"column":24}},"109":{"start":{"line":166,"column":8},"end":{"line":166,"column":40}},"110":{"start":{"line":168,"column":8},"end":{"line":168,"column":24}},"111":{"start":{"line":169,"column":8},"end":{"line":169,"column":31}},"112":{"start":{"line":172,"column":0},"end":{"line":181,"column":3}},"113":{"start":{"line":173,"column":32},"end":{"line":173,"column":40}},"114":{"start":{"line":174,"column":4},"end":{"line":180,"column":7}},"115":{"start":{"line":175,"column":8},"end":{"line":175,"column":24}},"116":{"start":{"line":176,"column":8},"end":{"line":176,"column":36}},"117":{"start":{"line":178,"column":8},"end":{"line":178,"column":24}},"118":{"start":{"line":179,"column":8},"end":{"line":179,"column":31}},"119":{"start":{"line":182,"column":0},"end":{"line":182,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":121},"end":{"line":11,"column":122}},"loc":{"start":{"line":11,"column":135},"end":{"line":29,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":57},"end":{"line":18,"column":58}},"loc":{"start":{"line":18,"column":69},"end":{"line":28,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":30,"column":118},"end":{"line":30,"column":119}},"loc":{"start":{"line":30,"column":132},"end":{"line":48,"column":1}},"line":30},"3":{"name":"(anonymous_3)","decl":{"start":{"line":37,"column":73},"end":{"line":37,"column":74}},"loc":{"start":{"line":37,"column":83},"end":{"line":47,"column":5}},"line":37},"4":{"name":"(anonymous_4)","decl":{"start":{"line":49,"column":28},"end":{"line":49,"column":29}},"loc":{"start":{"line":49,"column":42},"end":{"line":64,"column":1}},"line":49},"5":{"name":"(anonymous_5)","decl":{"start":{"line":51,"column":59},"end":{"line":51,"column":60}},"loc":{"start":{"line":51,"column":69},"end":{"line":63,"column":5}},"line":51},"6":{"name":"(anonymous_6)","decl":{"start":{"line":65,"column":25},"end":{"line":65,"column":26}},"loc":{"start":{"line":65,"column":39},"end":{"line":80,"column":1}},"line":65},"7":{"name":"(anonymous_7)","decl":{"start":{"line":67,"column":71},"end":{"line":67,"column":72}},"loc":{"start":{"line":67,"column":81},"end":{"line":79,"column":5}},"line":67},"8":{"name":"(anonymous_8)","decl":{"start":{"line":81,"column":25},"end":{"line":81,"column":26}},"loc":{"start":{"line":81,"column":39},"end":{"line":99,"column":1}},"line":81},"9":{"name":"(anonymous_9)","decl":{"start":{"line":83,"column":81},"end":{"line":83,"column":82}},"loc":{"start":{"line":83,"column":89},"end":{"line":98,"column":5}},"line":83},"10":{"name":"(anonymous_10)","decl":{"start":{"line":89,"column":66},"end":{"line":89,"column":67}},"loc":{"start":{"line":89,"column":75},"end":{"line":93,"column":13}},"line":89},"11":{"name":"(anonymous_11)","decl":{"start":{"line":100,"column":29},"end":{"line":100,"column":30}},"loc":{"start":{"line":100,"column":43},"end":{"line":124,"column":1}},"line":100},"12":{"name":"(anonymous_12)","decl":{"start":{"line":102,"column":63},"end":{"line":102,"column":64}},"loc":{"start":{"line":102,"column":73},"end":{"line":123,"column":5}},"line":102},"13":{"name":"(anonymous_13)","decl":{"start":{"line":105,"column":70},"end":{"line":105,"column":71}},"loc":{"start":{"line":105,"column":83},"end":{"line":108,"column":13}},"line":105},"14":{"name":"(anonymous_14)","decl":{"start":{"line":108,"column":21},"end":{"line":108,"column":22}},"loc":{"start":{"line":108,"column":28},"end":{"line":111,"column":13}},"line":108},"15":{"name":"(anonymous_15)","decl":{"start":{"line":115,"column":73},"end":{"line":115,"column":74}},"loc":{"start":{"line":115,"column":86},"end":{"line":118,"column":13}},"line":115},"16":{"name":"(anonymous_16)","decl":{"start":{"line":118,"column":21},"end":{"line":118,"column":22}},"loc":{"start":{"line":118,"column":28},"end":{"line":121,"column":13}},"line":118},"17":{"name":"(anonymous_17)","decl":{"start":{"line":125,"column":27},"end":{"line":125,"column":28}},"loc":{"start":{"line":125,"column":41},"end":{"line":149,"column":1}},"line":125},"18":{"name":"(anonymous_18)","decl":{"start":{"line":127,"column":59},"end":{"line":127,"column":60}},"loc":{"start":{"line":127,"column":69},"end":{"line":148,"column":5}},"line":127},"19":{"name":"(anonymous_19)","decl":{"start":{"line":130,"column":66},"end":{"line":130,"column":67}},"loc":{"start":{"line":130,"column":79},"end":{"line":133,"column":13}},"line":130},"20":{"name":"(anonymous_20)","decl":{"start":{"line":133,"column":21},"end":{"line":133,"column":22}},"loc":{"start":{"line":133,"column":28},"end":{"line":136,"column":13}},"line":133},"21":{"name":"(anonymous_21)","decl":{"start":{"line":140,"column":69},"end":{"line":140,"column":70}},"loc":{"start":{"line":140,"column":82},"end":{"line":143,"column":13}},"line":140},"22":{"name":"(anonymous_22)","decl":{"start":{"line":143,"column":21},"end":{"line":143,"column":22}},"loc":{"start":{"line":143,"column":28},"end":{"line":146,"column":13}},"line":143},"23":{"name":"(anonymous_23)","decl":{"start":{"line":150,"column":22},"end":{"line":150,"column":23}},"loc":{"start":{"line":150,"column":36},"end":{"line":161,"column":1}},"line":150},"24":{"name":"(anonymous_24)","decl":{"start":{"line":152,"column":53},"end":{"line":152,"column":54}},"loc":{"start":{"line":152,"column":66},"end":{"line":157,"column":5}},"line":152},"25":{"name":"(anonymous_25)","decl":{"start":{"line":157,"column":13},"end":{"line":157,"column":14}},"loc":{"start":{"line":157,"column":20},"end":{"line":160,"column":5}},"line":157},"26":{"name":"(anonymous_26)","decl":{"start":{"line":162,"column":31},"end":{"line":162,"column":32}},"loc":{"start":{"line":162,"column":45},"end":{"line":171,"column":1}},"line":162},"27":{"name":"(anonymous_27)","decl":{"start":{"line":164,"column":71},"end":{"line":164,"column":72}},"loc":{"start":{"line":164,"column":81},"end":{"line":167,"column":5}},"line":164},"28":{"name":"(anonymous_28)","decl":{"start":{"line":167,"column":13},"end":{"line":167,"column":14}},"loc":{"start":{"line":167,"column":20},"end":{"line":170,"column":5}},"line":167},"29":{"name":"(anonymous_29)","decl":{"start":{"line":172,"column":24},"end":{"line":172,"column":25}},"loc":{"start":{"line":172,"column":38},"end":{"line":181,"column":1}},"line":172},"30":{"name":"(anonymous_30)","decl":{"start":{"line":174,"column":62},"end":{"line":174,"column":63}},"loc":{"start":{"line":174,"column":68},"end":{"line":177,"column":5}},"line":174},"31":{"name":"(anonymous_31)","decl":{"start":{"line":177,"column":13},"end":{"line":177,"column":14}},"loc":{"start":{"line":177,"column":20},"end":{"line":180,"column":5}},"line":177}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},{"start":{"line":13,"column":4},"end":{"line":15,"column":5}}],"line":13},"1":{"loc":{"start":{"line":19,"column":8},"end":{"line":27,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":27,"column":9}},{"start":{"line":19,"column":8},"end":{"line":27,"column":9}}],"line":19},"2":{"loc":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},{"start":{"line":32,"column":4},"end":{"line":34,"column":5}}],"line":32},"3":{"loc":{"start":{"line":38,"column":8},"end":{"line":46,"column":9}},"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":46,"column":9}},{"start":{"line":38,"column":8},"end":{"line":46,"column":9}}],"line":38},"4":{"loc":{"start":{"line":52,"column":8},"end":{"line":62,"column":9}},"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":62,"column":9}},{"start":{"line":52,"column":8},"end":{"line":62,"column":9}}],"line":52},"5":{"loc":{"start":{"line":68,"column":8},"end":{"line":78,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":78,"column":9}},{"start":{"line":68,"column":8},"end":{"line":78,"column":9}}],"line":68},"6":{"loc":{"start":{"line":84,"column":8},"end":{"line":97,"column":9}},"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":97,"column":9}},{"start":{"line":84,"column":8},"end":{"line":97,"column":9}}],"line":84},"7":{"loc":{"start":{"line":90,"column":16},"end":{"line":92,"column":17}},"type":"if","locations":[{"start":{"line":90,"column":16},"end":{"line":92,"column":17}},{"start":{"line":90,"column":16},"end":{"line":92,"column":17}}],"line":90},"8":{"loc":{"start":{"line":94,"column":35},"end":{"line":94,"column":86}},"type":"cond-expr","locations":[{"start":{"line":94,"column":52},"end":{"line":94,"column":81}},{"start":{"line":94,"column":84},"end":{"line":94,"column":86}}],"line":94},"9":{"loc":{"start":{"line":103,"column":8},"end":{"line":122,"column":9}},"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":122,"column":9}},{"start":{"line":103,"column":8},"end":{"line":122,"column":9}}],"line":103},"10":{"loc":{"start":{"line":128,"column":8},"end":{"line":147,"column":9}},"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":147,"column":9}},{"start":{"line":128,"column":8},"end":{"line":147,"column":9}}],"line":128},"11":{"loc":{"start":{"line":153,"column":8},"end":{"line":156,"column":9}},"type":"if","locations":[{"start":{"line":153,"column":8},"end":{"line":156,"column":9}},{"start":{"line":153,"column":8},"end":{"line":156,"column":9}}],"line":153}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":3,"11":3,"12":1,"13":2,"14":2,"15":2,"16":2,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":3,"24":3,"25":1,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":0,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":0,"59":1,"60":0,"61":0,"62":1,"63":1,"64":1,"65":1,"66":2,"67":2,"68":2,"69":1,"70":1,"71":1,"72":1,"73":0,"74":0,"75":1,"76":1,"77":1,"78":1,"79":0,"80":0,"81":1,"82":2,"83":2,"84":2,"85":1,"86":1,"87":1,"88":1,"89":0,"90":0,"91":1,"92":1,"93":1,"94":1,"95":0,"96":0,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":0,"104":0,"105":1,"106":1,"107":1,"108":1,"109":1,"110":0,"111":0,"112":1,"113":1,"114":1,"115":1,"116":1,"117":0,"118":0,"119":1},"f":{"0":3,"1":2,"2":3,"3":2,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":2,"12":2,"13":1,"14":0,"15":1,"16":0,"17":2,"18":2,"19":1,"20":0,"21":1,"22":0,"23":1,"24":1,"25":0,"26":1,"27":1,"28":0,"29":1,"30":1,"31":0},"b":{"0":[1,2],"1":[1,1],"2":[1,2],"3":[1,1],"4":[0,1],"5":[0,1],"6":[0,1],"7":[0,0],"8":[0,1],"9":[1,1],"10":[1,1],"11":[1,0]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\user-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\user-routes.ts"],"names":[],"mappings":"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","sourcesContent":["import { generateJWT } from '../utils/authentication';\r\nimport { Router } from 'express'\r\nimport { body, validationResult } from 'express-validator';\r\nimport { getHashedPassword, getUserFromDatabase, getUserGraphProgressionFromDatabase,\r\n        getUserInfoFromDatabase, hasExistingUsername, saveUserToDatabase, \r\n         hasLikedContent, addLikedContent, removeLikedContent, addImage, updateUserPrivacy,\r\n         getUserInfoFromDatabaseByUsername, addLikedGraph, removeLikedGraph, hasLikedGraph } from '../controllers/user-controller';\r\nimport { decerementContentScore, incrementContentScore } from '../controllers/content-controller';\r\nimport { getCompletedNodeCount } from '../utils/achievements';\r\nimport { decerementGraphScore, incrementGraphScore } from '../controllers/graph-controller';\r\n\r\nconst router = Router();\r\n\r\nrouter.post('/register', [body('username').exists(), body('password').exists()], (req, res) => {\r\n    const errors = validationResult(req);\r\n    if (!errors.isEmpty()) {\r\n        return res.status(400).json({ errors: errors.array() });\r\n    }\r\n\r\n    const { username, password } = req.body;\r\n    const hashedPassword = getHashedPassword(password);\r\n    hasExistingUsername(username).then((exists) => {\r\n        if (exists) {\r\n            res.status(200)\r\n            res.json({ error: \"username already exists\" });\r\n        } else {\r\n            const id = saveUserToDatabase(username, hashedPassword);\r\n            res.status(200)\r\n            res.json({ userId: id });\r\n        }\r\n    });\r\n});\r\n\r\nrouter.post('/login', [body('username').exists(), body('password').exists()], (req, res) => {\r\n    const errors = validationResult(req);\r\n    if (!errors.isEmpty()) {\r\n        return res.status(400).json({ errors: errors.array() });\r\n    }\r\n\r\n    const { username, password } = req.body;\r\n    const hashedPassword = getHashedPassword(password);\r\n    getUserFromDatabase(username, hashedPassword).then((user) => {\r\n        if (!user) {\r\n            res.status(400)\r\n            res.json({ error: \"cannot find user\" });\r\n        } else {\r\n            const token = generateJWT(user._id, user.username).toString()\r\n            res.status(200)\r\n            res.json({ token });\r\n        }\r\n    })\r\n\r\n});\r\n\r\n\r\nrouter.get('/:id/userinfo', (req, res) => {\r\n    const { id: userId } = req.params\r\n\r\n    getUserInfoFromDatabase(userId).then((user) => {\r\n        if (!user) {\r\n            res.status(400)\r\n            res.json({ error: \"cannot find user\" });\r\n        } else {\r\n            const completedNodeCount = getCompletedNodeCount(user)\r\n            res.status(200)\r\n            res.json({ username: user.username, graphs_created: user.graphs_created, likedContent: user.likedContent, \r\n                    achievements: user.achievements, badges: user.badges, completedNodeCount, graphs_progressing: user.graphs_progressing,\r\n                    likedGraphs: user.likedGraphs});\r\n        }\r\n    })\r\n\r\n});\r\n\r\nrouter.post('/userinfo', (req, res) => {\r\n    const { username } = req.body;\r\n\r\n    getUserInfoFromDatabaseByUsername(username).then((user) => {\r\n        if (!user) {\r\n            res.status(400)\r\n            res.json({ error: \"cannot find user\" });\r\n        } else {\r\n            const completedNodeCount = getCompletedNodeCount(user)\r\n            res.status(200)\r\n            res.json({ userId: user._id, username: user.username, graphs_created: user.graphs_created, likedContent: user.likedContent, \r\n                    achievements: user.achievements, badges: user.badges, completedNodeCount, graphs_progressing: user.graphs_progressing,\r\n                    private: user.private});\r\n        }\r\n    })\r\n})\r\n\r\nrouter.post('/progress', (req, res) => {\r\n    const { userId, graphId } = req.body;\r\n\r\n    getUserGraphProgressionFromDatabase(userId, graphId).then((user => {\r\n        if (!user) {\r\n            res.status(400);\r\n            res.json({ error: \"cannot find user\" });\r\n        } else {\r\n            const filteredGraphs = user.graphs_progressing.filter(graph => {\r\n                if (graph._id.toString() === graphId) {\r\n                    return true\r\n                }\r\n            })[0]\r\n            const completedNodes = filteredGraphs ? filteredGraphs.completedNodes : []\r\n            res.status(200);\r\n            res.json({completedNodes});\r\n        }\r\n    }))\r\n})\r\n\r\n\r\nrouter.post('/like/content', (req, res) => {\r\n    const { userId, contentId} = req.body;\r\n    hasLikedContent(userId, contentId).then((exists => {\r\n        if (!exists) {\r\n            incrementContentScore(contentId);\r\n            addLikedContent(userId, contentId).then((updated) => {\r\n                res.status(200);\r\n                res.json({ updated, type: 'add' });\r\n            }).catch((e) => {\r\n                res.status(400);\r\n                res.json({error: e});\r\n            })\r\n        } else {\r\n            decerementContentScore(contentId);\r\n            removeLikedContent(userId, contentId).then((updated) => {\r\n                res.status(200);\r\n                res.json({ updated, type: 'remove' });\r\n            }).catch((e) => {\r\n\r\n                res.status(400);\r\n                res.json({error: e});\r\n            })\r\n        }\r\n    }))\r\n})\r\n\r\nrouter.post('/like/graph', (req, res) => {\r\n    const { userId, graphId } = req.body;\r\n    hasLikedGraph(userId, graphId).then((exists => {\r\n        if (!exists) {\r\n            incrementGraphScore(graphId);\r\n            addLikedGraph(userId, graphId).then((updated) => {\r\n                res.status(200);\r\n                res.json({ updated, type: 'add' });\r\n            }).catch((e) => {\r\n                res.status(400);\r\n                res.json({error: e});\r\n            })\r\n        } else {\r\n            decerementGraphScore(graphId);\r\n            removeLikedGraph(userId, graphId).then((updated) => {\r\n                res.status(200);\r\n                res.json({ updated, type: 'remove' });\r\n            }).catch((e) => {\r\n                res.status(400);\r\n                res.json({error: e});\r\n            })\r\n        }\r\n    }))\r\n})\r\n\r\nrouter.post('/image', (req, res) => {\r\n    const { username, image } = req.body;\r\n    \r\n    addImage(username, image).then((updated) => {\r\n        if (updated.nModified === 1) {\r\n            res.status(200);\r\n            res.json({ success: true });\r\n        }\r\n    }).catch((e) => {\r\n        res.status(400);\r\n        res.json({error: e});\r\n    })\r\n})\r\n\r\nrouter.get('/:username/image', (req, res) => {\r\n    const { username } = req.params;\r\n    \r\n    getUserInfoFromDatabaseByUsername(username).then((user) => {\r\n        res.status(200);\r\n        res.json({ image: user.image });\r\n    }).catch((e) => {\r\n        res.status(400);\r\n        res.json({error: e});\r\n    })\r\n})\r\n\r\nrouter.post('/privacy', (req , res) => {\r\n    const { userId, privacy } = req.body;\r\n    \r\n    updateUserPrivacy(userId, privacy).then(() => {\r\n        res.status(200);\r\n        res.json({ success: true });\r\n    }).catch((e) => {\r\n        res.status(400);\r\n        res.json({error: e});\r\n    })\r\n})\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"be771f081ed78016c427b9448ef6b5a70bfc3d80","contentHash":"b3d99fc6a236325b4ef319b2b81fdbd7dbf4288925f447ec4d1a25da5d97dc73"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\content-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\content-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":181}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":48}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"5":{"start":{"line":7,"column":25},"end":{"line":7,"column":61}},"6":{"start":{"line":8,"column":21},"end":{"line":8,"column":80}},"7":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":49}},"9":{"start":{"line":12,"column":0},"end":{"line":16,"column":2}},"10":{"start":{"line":13,"column":28},"end":{"line":13,"column":68}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":27}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":17,"column":0},"end":{"line":19,"column":2}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":84}},"15":{"start":{"line":20,"column":0},"end":{"line":22,"column":2}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":109}},"17":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":109}},"19":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":55}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":34},"end":{"line":9,"column":35}},"loc":{"start":{"line":9,"column":45},"end":{"line":11,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":21},"end":{"line":12,"column":22}},"loc":{"start":{"line":12,"column":42},"end":{"line":16,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":24},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":45},"end":{"line":19,"column":1}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":32},"end":{"line":20,"column":33}},"loc":{"start":{"line":20,"column":53},"end":{"line":22,"column":1}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":33},"end":{"line":23,"column":34}},"loc":{"start":{"line":23,"column":54},"end":{"line":25,"column":1}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":30},"end":{"line":26,"column":31}},"loc":{"start":{"line":26,"column":48},"end":{"line":28,"column":1}},"line":26}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2},"f":{"0":0,"1":2,"2":1,"3":1,"4":1,"5":2},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\content-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\content-controller.ts"],"names":[],"mappings":";;;AAAA,iDAA2D;AAC3D,uCAAiC;AACjC,qCAAmC;AACnC,8DAA0D;AAE1D,MAAM,YAAY,GAAG,gBAAK,CAAC,SAAS,EAAE,8BAAa,CAAC,CAAA;AAEvC,QAAA,uBAAuB,GAAG,CAAC,KAAK,EAAE,EAAE;IAC7C,OAAO,8BAAoB,CAAC,KAAK,CAAC,CAAC;AACvC,CAAC,CAAA;AAEY,QAAA,UAAU,GAAG,CAAC,MAAc,EAAE,OAAY,EAAE,EAAE;IACvD,MAAM,eAAe,GAAG,IAAI,YAAY,CAAC,EAAE,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;IACjE,eAAe,CAAC,IAAI,EAAE,CAAA;IACtB,OAAO,eAAe,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;AAC1C,CAAC,CAAA;AAEY,QAAA,aAAa,GAAG,KAAK,EAAE,SAAiB,EAAE,EAAE;IACrD,OAAO,MAAM,YAAY,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,IAAI,kBAAQ,CAAC,SAAS,CAAC,EAAC,CAAC,CAAC;AACxE,CAAC,CAAA;AAEY,QAAA,qBAAqB,GAAG,KAAK,EAAE,SAAiB,EAAE,EAAE;IAC7D,OAAO,MAAM,YAAY,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,IAAI,kBAAQ,CAAC,SAAS,CAAC,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,KAAK,EAAE,CAAC,CAAC,EAAC,EAAC,CAAC,CAAA;AAC5F,CAAC,CAAA;AAEY,QAAA,sBAAsB,GAAG,KAAK,EAAE,SAAiB,EAAE,EAAE;IAChE,OAAO,MAAM,YAAY,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,IAAI,kBAAQ,CAAC,SAAS,CAAC,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,KAAK,EAAE,CAAC,CAAC,EAAC,EAAC,CAAC,CAAA;AAC1F,CAAC,CAAA;AAEY,QAAA,mBAAmB,GAAG,KAAK,EAAE,MAAc,EAAE,EAAE;IAC1D,OAAO,MAAM,YAAY,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;AACnD,CAAC,CAAA","sourcesContent":["import { youtubeRelatedSearch } from '../services/youtube';\r\nimport { model } from 'mongoose';\r\nimport { ObjectId } from 'mongodb';\r\nimport { contentSchema } from '../schemas/content-schema';\r\n\r\nconst contentModel = model('Content', contentSchema)\r\n\r\nexport const getYoutubeVideosRelated = (label) => {\r\n    return youtubeRelatedSearch(label);\r\n}\r\n\r\nexport const addContent = (nodeId: string, content: any) => {\r\n    const contentInstance = new contentModel({ nodeId, ...content });\r\n    contentInstance.save()\r\n    return contentInstance._id.toString();\r\n}\r\n\r\nexport const removeContent = async (contentId: string) => {\r\n    return await contentModel.deleteOne({_id: new ObjectId(contentId)});\r\n}\r\n\r\nexport const incrementContentScore = async (contentId: string) => {\r\n    return await contentModel.updateOne({_id: new ObjectId(contentId)}, {$inc: {score: +1}})\r\n}\r\n\r\nexport const decerementContentScore = async (contentId: string) => {\r\n  return await contentModel.updateOne({_id: new ObjectId(contentId)}, {$inc: {score: -1}})\r\n}\r\n\r\nexport const getContentForNodeId = async (nodeId: string) => {\r\n  return await contentModel.find({nodeId: nodeId});\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2552204a8e7aefff5db75f8ee9832e565476e7f8","contentHash":"7465f89a47bb00b4524dce0aab60eacae78234b4b435995fb5438fadc5d30264"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\enums\\achievements.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\enums\\achievements.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":97}},"2":{"start":{"line":4,"column":0},"end":{"line":7,"column":2}},"3":{"start":{"line":8,"column":0},"end":{"line":24,"column":2}},"4":{"start":{"line":25,"column":0},"end":{"line":29,"column":2}},"5":{"start":{"line":32,"column":0},"end":{"line":54,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\enums\\achievements.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\enums\\achievements.ts"],"names":[],"mappings":";;;AACa,QAAA,UAAU,GAAG;IACtB,KAAK,EAAE,OAAO;IACd,WAAW,EAAE,aAAa;CAC7B,CAAA;AAEY,QAAA,MAAM,GAAG;IAClB,cAAc,EAAE;QACZ,IAAI,EAAE,kBAAU,CAAC,KAAK;QACtB,IAAI,EAAE,gBAAgB;QACtB,KAAK,EAAE,OAAO;KACjB;IACD,YAAY,EAAE;QACV,IAAI,EAAE,kBAAU,CAAC,KAAK;QACtB,IAAI,EAAE,cAAc;QACpB,KAAK,EAAE,QAAQ;KAClB;IACD,WAAW,EAAE;QACT,IAAI,EAAE,kBAAU,CAAC,KAAK;QACtB,IAAI,EAAE,aAAa;QACnB,KAAK,EAAE,KAAK;KACf;CACJ,CAAA;AAEY,QAAA,YAAY,GAAG;IACxB,iBAAiB,EAAE,oBAAoB;IACvC,kBAAkB,EAAE,qBAAqB;IACzC,cAAc,EAAE,iBAAiB;CACpC,CAAC;AAEF,8CAA8C;AAC9C,gCAAgC;AACnB,QAAA,kBAAkB,GAAG;IAC9B;QACI,IAAI,EAAE,kBAAU,CAAC,WAAW;QAC5B,IAAI,EAAE,oBAAY,CAAC,iBAAiB;QACpC,WAAW,EAAE,0CAA0C;QACvD,WAAW,EAAE,cAAM,CAAC,cAAc;QAClC,KAAK,EAAE,aAAa;KACvB;IACD;QACI,IAAI,EAAE,kBAAU,CAAC,WAAW;QAC5B,IAAI,EAAE,oBAAY,CAAC,kBAAkB;QACrC,WAAW,EAAE,sCAAsC;QACnD,WAAW,EAAE,cAAM,CAAC,YAAY;QAChC,KAAK,EAAE,aAAa;KACvB;IACD;QACI,IAAI,EAAE,kBAAU,CAAC,WAAW;QAC5B,IAAI,EAAE,oBAAY,CAAC,cAAc;QACjC,WAAW,EAAE,yBAAyB;QACtC,WAAW,EAAE,cAAM,CAAC,WAAW;QAC/B,KAAK,EAAE,aAAa;KACvB;CAEJ,CAAC","sourcesContent":["import { toDataURL } from \"../utils/image\";\r\nexport const rewardType = {\r\n    BADGE: 'BADGE',\r\n    ACHIEVEMENT: 'ACHIEVEMENT'\r\n}\r\n\r\nexport const badges = {\r\n    NODE_COMPLETER: {\r\n        type: rewardType.BADGE,\r\n        name: 'Node Completer',\r\n        color: 'green',\r\n    },\r\n    NODE_CRUSHER: {\r\n        type: rewardType.BADGE,\r\n        name: 'Node Crusher',\r\n        color: 'yellow',\r\n    },\r\n    MAP_CREATOR: {\r\n        type: rewardType.BADGE,\r\n        name: 'Map Creator',\r\n        color: 'red',\r\n    }\r\n}\r\n\r\nexport const achievements = {\r\n    COMPLETE_ONE_NODE: 'Complete one node!',\r\n    COMPLETE_TEN_NODES: 'Complete ten nodes!',\r\n    CREATE_ONE_MAP: 'Create one map!',\r\n};\r\n\r\n// Image should come from URL maybe s3 bucket?\r\n// Manually adding them for now!\r\nexport const achievementObjects = [\r\n    {\r\n        type: rewardType.ACHIEVEMENT,\r\n        name: achievements.COMPLETE_ONE_NODE,\r\n        description: 'Complete a single node in progress mode!',\r\n        rewardBadge: badges.NODE_COMPLETER,\r\n        image: 'placeholder'\r\n    },\r\n    {\r\n        type: rewardType.ACHIEVEMENT,\r\n        name: achievements.COMPLETE_TEN_NODES,\r\n        description: 'Complete ten nodes in progress mode!',\r\n        rewardBadge: badges.NODE_CRUSHER,\r\n        image: 'placeholder'\r\n    },\r\n    {\r\n        type: rewardType.ACHIEVEMENT,\r\n        name: achievements.CREATE_ONE_MAP,\r\n        description: 'Create a new skill map!',\r\n        rewardBadge: badges.MAP_CREATOR,\r\n        image: 'placeholder'\r\n    },\r\n\r\n];\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"918c9ba743a2e041cb5c5659f7f7c3f07db34dce","contentHash":"6f27beabe146e32083a78f524780510f1cb08e4dd19ab37a5521148c600c8d0c"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\content-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\content-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":29},"end":{"line":5,"column":73}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":48}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"6":{"start":{"line":33,"column":0},"end":{"line":37,"column":3}},"7":{"start":{"line":34,"column":32},"end":{"line":34,"column":40}},"8":{"start":{"line":35,"column":21},"end":{"line":35,"column":75}},"9":{"start":{"line":36,"column":4},"end":{"line":36,"column":27}},"10":{"start":{"line":38,"column":0},"end":{"line":42,"column":3}},"11":{"start":{"line":39,"column":26},"end":{"line":39,"column":36}},"12":{"start":{"line":40,"column":21},"end":{"line":40,"column":72}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":27}},"14":{"start":{"line":43,"column":0},"end":{"line":54,"column":3}},"15":{"start":{"line":44,"column":23},"end":{"line":44,"column":33}},"16":{"start":{"line":45,"column":21},"end":{"line":45,"column":75}},"17":{"start":{"line":46,"column":4},"end":{"line":53,"column":5}},"18":{"start":{"line":47,"column":8},"end":{"line":47,"column":24}},"19":{"start":{"line":48,"column":8},"end":{"line":48,"column":52}},"20":{"start":{"line":51,"column":8},"end":{"line":51,"column":24}},"21":{"start":{"line":52,"column":8},"end":{"line":52,"column":40}},"22":{"start":{"line":55,"column":0},"end":{"line":55,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":33,"column":17},"end":{"line":33,"column":18}},"loc":{"start":{"line":33,"column":37},"end":{"line":37,"column":1}},"line":33},"1":{"name":"(anonymous_1)","decl":{"start":{"line":38,"column":29},"end":{"line":38,"column":30}},"loc":{"start":{"line":38,"column":49},"end":{"line":42,"column":1}},"line":38},"2":{"name":"(anonymous_2)","decl":{"start":{"line":43,"column":23},"end":{"line":43,"column":24}},"loc":{"start":{"line":43,"column":43},"end":{"line":54,"column":1}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":46,"column":4},"end":{"line":53,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":53,"column":5}},{"start":{"line":46,"column":4},"end":{"line":53,"column":5}}],"line":46}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":1,"1":1,"2":2},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\content-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\content-routes.ts"],"names":[],"mappings":"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","sourcesContent":["import { getGoogleBooksVolumeFromId, googleBooksRelatedSearch } from '../services/google-books';\r\nimport { Router } from 'express';\r\nimport { addContent, getContentForNodeId, getYoutubeVideosRelated, removeContent } from '../controllers/content-controller';\r\nimport { getYoutubeSnippetFromId } from '../services/youtube';\r\n\r\nconst router = Router();\r\n // Tests should ignore calling 3rd party end points \r\n /* istanbul ignore next */ \r\nrouter.get('/youtube', async (req, res) => {\r\n    const { searchQuery } = req.query\r\n    const response = await getYoutubeVideosRelated(searchQuery);\r\n    res.json({ response })\r\n})\r\n /* istanbul ignore next */ \r\nrouter.get('/youtube/:id', async (req, res) => {\r\n    const { id } = req.params;\r\n    const response = await getYoutubeSnippetFromId(id);\r\n\r\n    res.json({response});\r\n})\r\n /* istanbul ignore next */ \r\nrouter.get('/googlebooks', async (req, res) => {\r\n    const { searchQuery } = req.query\r\n    const response = await googleBooksRelatedSearch(searchQuery);\r\n    res.json({ response })\r\n})\r\n /* istanbul ignore next */ \r\nrouter.get('/googlebooks/:id', async (req, res) => {\r\n    const { id } = req.params;\r\n    const response = await getGoogleBooksVolumeFromId(id);\r\n    res.json({response});\r\n})\r\n\r\nrouter.post('/', async (req, res) => {\r\n    const { nodeId, content}= req.body;\r\n\r\n    const response: any = await addContent(nodeId, content);\r\n\r\n    res.json({response});\r\n})\r\n\r\nrouter.delete('/:contentId', async (req, res) => {\r\n    const { contentId } = req.params;\r\n    const response: any = await removeContent(contentId);\r\n\r\n    res.json({response});\r\n})\r\n\r\nrouter.get('/:nodeId', async (req, res) => {\r\n    const { nodeId } = req.params;\r\n    const response: any = await getContentForNodeId(nodeId);\r\n    if (response.length === 0) {\r\n        res.status(400);\r\n        res.json({error: 'Content fetch failed'});\r\n    } else {\r\n        res.status(200);\r\n        res.json({ content: response })\r\n    }\r\n})\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"db4cee2f685a85ddb0f3ee158cb5f081fcf9c41d","contentHash":"f0eaccece09f07340c81c2e5d107dbf021d2b17db2313b666a08635ce695a00d"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\tag-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\tag-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":65}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":33}},"4":{"start":{"line":6,"column":0},"end":{"line":17,"column":3}},"5":{"start":{"line":7,"column":21},"end":{"line":7,"column":60}},"6":{"start":{"line":8,"column":4},"end":{"line":16,"column":5}},"7":{"start":{"line":9,"column":21},"end":{"line":11,"column":10}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":30}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":27}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":37}},"11":{"start":{"line":18,"column":0},"end":{"line":22,"column":3}},"12":{"start":{"line":19,"column":20},"end":{"line":19,"column":28}},"13":{"start":{"line":20,"column":21},"end":{"line":20,"column":62}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":27}},"15":{"start":{"line":23,"column":0},"end":{"line":27,"column":3}},"16":{"start":{"line":24,"column":25},"end":{"line":24,"column":33}},"17":{"start":{"line":25,"column":21},"end":{"line":25,"column":72}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":27}},"19":{"start":{"line":28,"column":0},"end":{"line":32,"column":3}},"20":{"start":{"line":29,"column":20},"end":{"line":29,"column":28}},"21":{"start":{"line":30,"column":21},"end":{"line":30,"column":58}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":27}},"23":{"start":{"line":33,"column":0},"end":{"line":33,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":16},"end":{"line":6,"column":17}},"loc":{"start":{"line":6,"column":36},"end":{"line":17,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":34},"end":{"line":9,"column":35}},"loc":{"start":{"line":9,"column":46},"end":{"line":11,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":18}},"loc":{"start":{"line":18,"column":37},"end":{"line":22,"column":1}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":21},"end":{"line":23,"column":22}},"loc":{"start":{"line":23,"column":41},"end":{"line":27,"column":1}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":19},"end":{"line":28,"column":20}},"loc":{"start":{"line":28,"column":39},"end":{"line":32,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":16,"column":5}},{"start":{"line":8,"column":4},"end":{"line":16,"column":5}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":1,"8":2,"9":1,"10":1,"11":1,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1},"f":{"0":2,"1":2,"2":2,"3":1,"4":0},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\tag-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\tag-routes.ts"],"names":[],"mappings":";;AAAA,kEAA6G;AAC7G,qCAAiC;AAEjC,MAAM,MAAM,GAAG,gBAAM,EAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAC/B,MAAM,QAAQ,GAAG,MAAM,+BAAc,EAAE,CAAC;IACxC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACrB,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAW,EAAE,EAAE;YACtC,OAAO,MAAM,CAAC,GAAG,CAAC;QACtB,CAAC,CAAC,CAAA;QACF,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAA;KACrB;SAAM;QACH,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;KAC/B;AACL,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAChC,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACzB,MAAM,QAAQ,GAAG,MAAM,8BAAa,CAAC,GAAG,CAAC,CAAC;IAC1C,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAA;AAE1B,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IACpC,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAC9B,MAAM,QAAQ,GAAG,MAAM,mCAAkB,CAAC,QAAQ,CAAC,CAAC;IACpD,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAA;AAC1B,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAClC,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACzB,MAAM,QAAQ,GAAG,MAAM,0BAAS,CAAC,GAAG,CAAC,CAAC;IACtC,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAA;AAC1B,CAAC,CAAC,CAAA;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import { addContentTag, addManyContentTags, deleteTag, getContentTags } from '../controllers/tag-controller';\nimport { Router } from 'express';\n\nconst router = Router();\n\nrouter.get('/', async (req, res) => {\n    const response = await getContentTags();\n    if (response.length > 0) {\n        const tags = response.map((tagObj: any) => {\n            return tagObj.tag;\n        })\n        res.json({ tags })\n    } else {\n        res.json({ tags: response })\n    }\n})\n\nrouter.post('/', async (req, res) => {\n    const { tag } = req.body;\n    const response = await addContentTag(tag);\n    res.json({ response })\n\n})\n\nrouter.post('/many', async (req, res) => {\n    const { tagArray } = req.body;\n    const response = await addManyContentTags(tagArray);\n    res.json({ response })\n})\n\nrouter.delete('/', async (req, res) => {\n    const { tag } = req.body;\n    const response = await deleteTag(tag);\n    res.json({ response })\n})\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fc01fa4cad66ce446ab5263eae8c0fbb41bab17e","contentHash":"619283ff4b31b3dd588de6b224ad25e24b47b14f2cc63f50d76149ada387261a"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\tag-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\tag-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":105}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":55}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":67}},"5":{"start":{"line":7,"column":0},"end":{"line":9,"column":2}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":14,"column":2}},"8":{"start":{"line":11,"column":25},"end":{"line":11,"column":47}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":24}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":39}},"11":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":42}},"13":{"start":{"line":18,"column":0},"end":{"line":20,"column":2}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":47}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":25},"end":{"line":7,"column":26}},"loc":{"start":{"line":7,"column":31},"end":{"line":9,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":24},"end":{"line":10,"column":25}},"loc":{"start":{"line":10,"column":33},"end":{"line":14,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":29},"end":{"line":15,"column":30}},"loc":{"start":{"line":15,"column":43},"end":{"line":17,"column":1}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":29},"end":{"line":20,"column":1}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":0},"f":{"0":2,"1":2,"2":1,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\tag-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\tag-controller.ts"],"names":[],"mappings":";;;AAAA,wDAAmD;AACnD,uCAAiC;AAEjC,MAAM,SAAS,GAAG,gBAAK,CAAC,MAAM,EAAE,uBAAS,CAAC,CAAC;AAE9B,QAAA,cAAc,GAAG,GAAG,EAAE;IAC/B,OAAO,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC9B,CAAC,CAAA;AAEY,QAAA,aAAa,GAAG,CAAC,GAAW,EAAE,EAAE;IACzC,MAAM,YAAY,GAAG,IAAI,SAAS,CAAC,EAAC,GAAG,EAAC,CAAC,CAAC;IAC1C,YAAY,CAAC,IAAI,EAAE,CAAA;IACnB,OAAO,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;AACvC,CAAC,CAAA;AAEY,QAAA,kBAAkB,GAAG,CAAC,QAAe,EAAE,EAAE;IAClD,OAAO,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAA;AACzC,CAAC,CAAA;AAEY,QAAA,SAAS,GAAG,CAAC,GAAW,EAAE,EAAE;IACrC,OAAO,SAAS,CAAC,SAAS,CAAC,EAAC,KAAK,EAAE,GAAG,EAAC,CAAC,CAAA;AAC5C,CAAC,CAAA","sourcesContent":["import { tagSchema } from '../schemas/tags-schema';\nimport { model } from 'mongoose';\n\nconst tagsModel = model('tags', tagSchema);\n\nexport const getContentTags = () => {\n    return tagsModel.find({});\n}\n\nexport const addContentTag = (tag: string) => {\n    const tagsInstance = new tagsModel({tag});\n    tagsInstance.save()\n    return tagsInstance._id.toString();\n}\n\nexport const addManyContentTags = (tagArray: any[]) => {\n    return tagsModel.insertMany(tagArray)\n}\n\nexport const deleteTag = (tag: string) => {\n    return tagsModel.deleteOne({'tag': tag})\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e70547d050f18f4cb002390ef619793109cb64c9","contentHash":"e7004e2fdcff2e2b0f8dc191fbf2cf4272994154328697b553d1797199a464ec"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\tags-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\tags-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\tags-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\tags-schema.ts"],"names":[],"mappings":";;;AAAA,uCAAkC;AAGrB,QAAA,SAAS,GAAG,IAAI,iBAAM,CAAC;IAChC,GAAG,EAAE,MAAM;CACd,CAAC,CAAA","sourcesContent":["import { Schema } from 'mongoose';\n\n\nexport const tagSchema = new Schema({\n    tag: String\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"149c39fe461bad9900ed62f1eb9c032d439f6f41","contentHash":"f244082485d5947bf0188956b0432cf3146a36605ddd678a392674e32decdfa1"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\achievement-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\achievement-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":33},"end":{"line":3,"column":81}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":55}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":33}},"5":{"start":{"line":7,"column":0},"end":{"line":11,"column":3}},"6":{"start":{"line":8,"column":25},"end":{"line":8,"column":73}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":27}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"9":{"start":{"line":12,"column":0},"end":{"line":17,"column":3}},"10":{"start":{"line":13,"column":23},"end":{"line":13,"column":33}},"11":{"start":{"line":14,"column":30},"end":{"line":14,"column":79}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":32}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":20}},"14":{"start":{"line":18,"column":0},"end":{"line":23,"column":3}},"15":{"start":{"line":19,"column":33},"end":{"line":19,"column":41}},"16":{"start":{"line":20,"column":25},"end":{"line":20,"column":96}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":27}},"18":{"start":{"line":22,"column":4},"end":{"line":22,"column":20}},"19":{"start":{"line":24,"column":0},"end":{"line":24,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":16},"end":{"line":7,"column":17}},"loc":{"start":{"line":7,"column":36},"end":{"line":11,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":28},"end":{"line":12,"column":29}},"loc":{"start":{"line":12,"column":48},"end":{"line":17,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":24},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":44},"end":{"line":23,"column":1}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\achievement-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\achievement-routes.ts"],"names":[],"mappings":";;AAAA,kFAAgG;AAChG,qCAAiC;AACjC,wDAA6D;AAE7D,MAAM,MAAM,GAAG,gBAAM,EAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IACjC,MAAM,YAAY,GAAG,MAAM,wCAAe,EAAE,CAAC;IAC7C,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACvB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AACjB,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IAC3C,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAC9B,MAAM,iBAAiB,GAAG,MAAM,mCAAoB,CAAC,MAAM,CAAC,CAAC;IAC7D,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC5B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AACnB,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;IACzC,MAAM,EAAE,gBAAgB,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACtC,MAAM,YAAY,GAAG,MAAM,+CAAsB,CAAC,gBAAgB,CAAC,CAAC;IACpE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACvB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AACjB,CAAC,CAAC,CAAA;AAGF,kBAAe,MAAM,CAAC","sourcesContent":["import { getAchievementFromName, getAchievements } from '../controllers/achievement-controller';\r\nimport { Router } from 'express';\r\nimport { checkForAchievements } from '../utils/achievements';\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const achievements = await getAchievements();\r\n  res.json(achievements);\r\n  res.status(200)\r\n})\r\n\r\nrouter.get('/poll/:userId', async (req, res) => {\r\n    const { userId } = req.params;\r\n    const achievementsAdded = await checkForAchievements(userId);\r\n    res.json(achievementsAdded);\r\n    res.status(200)\r\n})\r\n\r\nrouter.post('/objects', async (req, res) => {\r\n  const { achievementNames } = req.body;\r\n  const achievements = await getAchievementFromName(achievementNames);\r\n  res.json(achievements);\r\n  res.status(200)\r\n})\r\n  \r\n\r\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"78c72c8eedbe08ae05310c3921cad7ca1b455051","contentHash":"be97868fffd5f2ac9ce7a1b496ec58340fecf291545909f0471b820ef87401f6"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\achievement-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\achievement-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":96}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":59}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":92}},"5":{"start":{"line":7,"column":0},"end":{"line":9,"column":2}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}},"7":{"start":{"line":10,"column":0},"end":{"line":12,"column":2}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":57}},"9":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":70}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":26},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":32},"end":{"line":9,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":30},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":52},"end":{"line":12,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":33},"end":{"line":13,"column":34}},"loc":{"start":{"line":13,"column":55},"end":{"line":15,"column":1}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\achievement-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\achievement-controller.ts"],"names":[],"mappings":";;;AAAA,4DAA6D;AAC7D,uCAAiC;AAEjC,MAAM,gBAAgB,GAAG,gBAAK,CAAC,cAAc,EAAE,iCAAiB,CAAC,CAAC;AAErD,QAAA,eAAe,GAAG,GAAG,EAAE;IAChC,OAAO,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACrC,CAAC,CAAA;AAEY,QAAA,mBAAmB,GAAG,CAAC,gBAAgB,EAAE,EAAE;IACpD,OAAO,gBAAgB,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAA;AACxD,CAAC,CAAA;AAEY,QAAA,sBAAsB,GAAG,CAAC,gBAAgB,EAAE,EAAE;IACvD,OAAO,gBAAgB,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,EAAC,GAAG,EAAE,gBAAgB,EAAC,EAAC,CAAC,CAAA;AACjE,CAAC,CAAA","sourcesContent":["import { achievementSchema } from '../schemas/reward-schema';\r\nimport { model } from 'mongoose';\r\n\r\nconst achievementModel = model('achievements', achievementSchema);\r\n\r\nexport const getAchievements = () => {\r\n    return achievementModel.find({});\r\n}\r\n\r\nexport const addManyAchievements = (achievementArray) => {\r\n    return achievementModel.insertMany(achievementArray)\r\n}\r\n\r\nexport const getAchievementFromName = (achievementNames) => {\r\n    return achievementModel.find({name: {$in: achievementNames}})\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"480b91c747343a8400b3688dd4bbf6e123845dc4","contentHash":"4c2630f3664fc4534f73ce7c3eb3c470ef0a62d8d3588ebaab61ba3d2cc0b8e6"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\objective-routes.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\objective-routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":31},"end":{"line":3,"column":77}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":33}},"4":{"start":{"line":6,"column":0},"end":{"line":18,"column":3}},"5":{"start":{"line":7,"column":31},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":4},"end":{"line":17,"column":7}},"7":{"start":{"line":9,"column":8},"end":{"line":16,"column":9}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":58}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":28}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":50}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":28}},"12":{"start":{"line":19,"column":0},"end":{"line":41,"column":3}},"13":{"start":{"line":20,"column":38},"end":{"line":20,"column":46}},"14":{"start":{"line":21,"column":4},"end":{"line":40,"column":8}},"15":{"start":{"line":22,"column":8},"end":{"line":39,"column":9}},"16":{"start":{"line":23,"column":12},"end":{"line":29,"column":15}},"17":{"start":{"line":24,"column":16},"end":{"line":24,"column":51}},"18":{"start":{"line":25,"column":16},"end":{"line":25,"column":32}},"19":{"start":{"line":27,"column":16},"end":{"line":28,"column":36}},"20":{"start":{"line":32,"column":12},"end":{"line":38,"column":15}},"21":{"start":{"line":33,"column":16},"end":{"line":33,"column":54}},"22":{"start":{"line":34,"column":16},"end":{"line":34,"column":32}},"23":{"start":{"line":36,"column":16},"end":{"line":37,"column":36}},"24":{"start":{"line":42,"column":0},"end":{"line":42,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":31},"end":{"line":6,"column":32}},"loc":{"start":{"line":6,"column":45},"end":{"line":18,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":62},"end":{"line":8,"column":63}},"loc":{"start":{"line":8,"column":78},"end":{"line":17,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":18}},"loc":{"start":{"line":19,"column":31},"end":{"line":41,"column":1}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":71},"end":{"line":21,"column":72}},"loc":{"start":{"line":21,"column":81},"end":{"line":40,"column":5}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":81},"end":{"line":23,"column":82}},"loc":{"start":{"line":23,"column":94},"end":{"line":26,"column":13}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":21},"end":{"line":26,"column":22}},"loc":{"start":{"line":26,"column":28},"end":{"line":29,"column":13}},"line":26},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":80},"end":{"line":32,"column":81}},"loc":{"start":{"line":32,"column":93},"end":{"line":35,"column":13}},"line":32},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":21},"end":{"line":35,"column":22}},"loc":{"start":{"line":35,"column":28},"end":{"line":38,"column":13}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":16,"column":9}},{"start":{"line":9,"column":8},"end":{"line":16,"column":9}}],"line":9},"1":{"loc":{"start":{"line":22,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":39,"column":9}},{"start":{"line":22,"column":8},"end":{"line":39,"column":9}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":1,"12":1,"13":2,"14":2,"15":2,"16":1,"17":1,"18":1,"19":0,"20":1,"21":1,"22":1,"23":0,"24":1},"f":{"0":1,"1":1,"2":2,"3":2,"4":1,"5":0,"6":1,"7":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\objective-routes.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\routes\\objective-routes.ts"],"names":[],"mappings":";;AAAA,8EAAgI;AAChI,qCAAiC;AAEjC,MAAM,MAAM,GAAG,gBAAM,EAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACxC,MAAM,EAAC,MAAM,EAAE,MAAM,EAAC,GAAG,GAAG,CAAC,MAAM,CAAC;IAEpC,oCAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,EAAE;QAC9C,IAAI,CAAC,UAAU,EAAE;YACb,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,wBAAwB,EAAE,CAAC,CAAC;YAC9C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SACnB;aAAM;YACH,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC;YACtC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SACnB;IACL,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAA;AAEF,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IAC1B,MAAM,EAAC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAC,GAAG,GAAG,CAAC,IAAI,CAAC;IACzC,4CAAqB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE;QACjD,IAAI,CAAC,MAAM,EAAE;YACT,wCAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;gBACtD,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YACnB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;gBACX,GAAG,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC;oBACpB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YACnB,CAAC,CAAC,CAAA;SACL;aAAM;YACH,uCAAgB,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;gBACrD,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;gBACtC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YACnB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;gBACX,GAAG,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC;oBACpB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YACnB,CAAC,CAAC,CAAA;SACL;IACL,CAAC,CAAC,CAAC,CAAA;AACP,CAAC,CAAC,CAAA;AAEF,kBAAe,MAAM,CAAA","sourcesContent":["import { addNodeObjectives, getObjectives, hasExistingObjectives, updateObjectives } from '../controllers/objective-controller';\r\nimport { Router } from 'express';\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/:userId/:nodeId', (req, res) => {\r\n    const {userId, nodeId} = req.params;\r\n\r\n    getObjectives(userId, nodeId).then((objectives) => {\r\n        if (!objectives) {\r\n            res.json({ error: \"cannot find objectives\" });\r\n            res.status(400);\r\n        } else {\r\n            res.json({ items: objectives.items });\r\n            res.status(200); \r\n        }\r\n    })\r\n})\r\n\r\nrouter.post('/', (req, res) => {\r\n    const {userId, nodeId, items} = req.body;\r\n    hasExistingObjectives(userId, nodeId).then((exists => {\r\n        if (!exists) {\r\n            addNodeObjectives(userId, nodeId, items).then((updated) => {\r\n                res.json({ updated, type: 'add' });\r\n                res.status(200)\r\n            }).catch((e) => {\r\n                res.json({error: e}),\r\n                res.status(400)\r\n            })\r\n        } else {\r\n            updateObjectives(userId, nodeId, items).then((updated) => {\r\n                res.json({ updated, type: 'update' });\r\n                res.status(200)\r\n            }).catch((e) => {\r\n                res.json({error: e}),\r\n                res.status(400)\r\n            })\r\n        }\r\n    }))\r\n})\r\n\r\nexport default router"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"57b9854ba46c016c7176de2b2e65c75bff8e25bd","contentHash":"22b94de9cee43af924d94ca73b70c0ba12989d470775034bc3983f8342fd3d3a"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\objective-controller.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\objective-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":118}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"5":{"start":{"line":7,"column":23},"end":{"line":7,"column":88}},"6":{"start":{"line":8,"column":0},"end":{"line":10,"column":2}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":93}},"8":{"start":{"line":11,"column":0},"end":{"line":13,"column":2}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":94}},"10":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":126}},"12":{"start":{"line":17,"column":0},"end":{"line":21,"column":2}},"13":{"start":{"line":18,"column":30},"end":{"line":18,"column":75}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":29}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":32},"end":{"line":8,"column":33}},"loc":{"start":{"line":8,"column":58},"end":{"line":10,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":24},"end":{"line":11,"column":25}},"loc":{"start":{"line":11,"column":50},"end":{"line":13,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":27},"end":{"line":14,"column":28}},"loc":{"start":{"line":14,"column":60},"end":{"line":16,"column":1}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":28},"end":{"line":17,"column":29}},"loc":{"start":{"line":17,"column":61},"end":{"line":21,"column":1}},"line":17}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":2,"1":1,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\objective-controller.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\controllers\\objective-controller.ts"],"names":[],"mappings":";;;AAAA,kEAA8D;AAC9D,uCAAiC;AACjC,qCAAmC;AAEnC,MAAM,cAAc,GAAG,gBAAK,CAAC,WAAW,EAAE,kCAAe,CAAC,CAAC;AAE9C,QAAA,qBAAqB,GAAG,KAAK,EAAE,MAAc,EAAE,MAAc,EAAgB,EAAE;IACxF,OAAO,cAAc,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,IAAI,kBAAQ,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAA;AACjF,CAAC,CAAA;AAEY,QAAA,aAAa,GAAG,KAAK,EAAE,MAAc,EAAE,MAAc,EAAgB,EAAE;IAChF,OAAO,cAAc,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,IAAI,kBAAQ,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAA;AAClF,CAAC,CAAA;AAEY,QAAA,gBAAgB,GAAG,KAAK,EAAE,MAAc,EAAE,MAAc,EAAE,KAAU,EAAgB,EAAE;IAC/F,OAAO,cAAc,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,IAAI,kBAAQ,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAC,EAAE,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAC,CAAC,CAAA;AACjH,CAAC,CAAA;AAEY,QAAA,iBAAiB,GAAG,KAAK,EAAE,MAAc,EAAE,MAAc,EAAE,KAAU,EAAgB,EAAE;IAChG,MAAM,iBAAiB,GAAG,IAAI,cAAc,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IACxE,iBAAiB,CAAC,IAAI,EAAE,CAAA;IACxB,OAAO,iBAAiB,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;AAC5C,CAAC,CAAA","sourcesContent":["import { objectiveSchema } from '../schemas/objective-schema';\r\nimport { model } from 'mongoose';\r\nimport { ObjectId } from 'mongodb';\r\n\r\nconst objectiveModel = model('objective', objectiveSchema);\r\n\r\nexport const hasExistingObjectives = async (userId: string, nodeId: string): Promise<any> => {\r\n    return objectiveModel.exists({ userId: new ObjectId(userId), nodeId: nodeId})\r\n}\r\n\r\nexport const getObjectives = async (userId: string, nodeId: string): Promise<any> => {\r\n    return objectiveModel.findOne({ userId: new ObjectId(userId), nodeId: nodeId})\r\n}\r\n\r\nexport const updateObjectives = async (userId: string, nodeId: string, items: any): Promise<any> => {\r\n    return objectiveModel.updateOne({ userId: new ObjectId(userId), nodeId: nodeId}, { $set: { 'items': items }})\r\n}\r\n\r\nexport const addNodeObjectives = async (userId: String, nodeId: String, items: any): Promise<any> => {\r\n    const objectiveInstance = new objectiveModel({ userId, nodeId, items });\r\n    objectiveInstance.save()\r\n    return objectiveInstance._id.toString();\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"29f4fffbd38194b8cba346cbb9d8b849b99cc757","contentHash":"e66eaa132a556ddce5b18d99e80616310c64aa0243ca4bdbbf184af5f702ac8c"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\objective-schema.ts":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\objective-schema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":17},"end":{"line":9,"column":2}},"4":{"start":{"line":10,"column":0},"end":{"line":14,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\objective-schema.ts","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\schemas\\objective-schema.ts"],"names":[],"mappings":";;;AAEA,uCAA4C;AAE5C,MAAM,QAAQ,GAAG,IAAI,iBAAM,CAAC;IACxB,KAAK,EAAE,MAAM;IACb,OAAO,EAAE,OAAO;IAChB,EAAE,EAAE,MAAM;CACb,CAAC,CAAA;AAEW,QAAA,eAAe,GAAG,IAAI,iBAAM,CAAC;IACtC,MAAM,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;IAC7B,MAAM,EAAE,MAAM;IACd,KAAK,EAAE,CAAC,QAAQ,CAAC;CACpB,CAAC,CAAA","sourcesContent":["import { ObjectId } from 'mongodb';\r\n\r\nimport { Mongoose, Schema } from 'mongoose';\r\n\r\nconst taskItem = new Schema({\r\n    label: String,\r\n    checked: Boolean,\r\n    id: Number,\r\n})\r\n\r\nexport const objectiveSchema = new Schema({\r\n    userId: Schema.Types.ObjectId,\r\n    nodeId: String,\r\n    items: [taskItem]\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1e8e6b2dd79555bf06c8276f68ea740b03dc2bfe","contentHash":"b2647b80a02157c1ff18cecf60405e9889d47adf4d0ca872158530aa822f1132"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\content-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\content-routes.js","statementMap":{"0":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"1":{"start":{"line":2,"column":15},"end":{"line":2,"column":37}},"2":{"start":{"line":3,"column":16},"end":{"line":3,"column":36}},"3":{"start":{"line":4,"column":12},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":16},"end":{"line":5,"column":26}},"5":{"start":{"line":6,"column":21},"end":{"line":6,"column":57}},"6":{"start":{"line":8,"column":0},"end":{"line":52,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":19,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":18,"column":11}},"9":{"start":{"line":13,"column":33},"end":{"line":13,"column":41}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":38}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":35}},"12":{"start":{"line":16,"column":12},"end":{"line":16,"column":42}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":19}},"14":{"start":{"line":20,"column":4},"end":{"line":29,"column":7}},"15":{"start":{"line":21,"column":8},"end":{"line":28,"column":11}},"16":{"start":{"line":24,"column":32},"end":{"line":24,"column":40}},"17":{"start":{"line":25,"column":12},"end":{"line":25,"column":73}},"18":{"start":{"line":26,"column":12},"end":{"line":26,"column":42}},"19":{"start":{"line":27,"column":12},"end":{"line":27,"column":19}},"20":{"start":{"line":30,"column":4},"end":{"line":39,"column":7}},"21":{"start":{"line":31,"column":8},"end":{"line":38,"column":11}},"22":{"start":{"line":34,"column":30},"end":{"line":34,"column":38}},"23":{"start":{"line":35,"column":12},"end":{"line":35,"column":56}},"24":{"start":{"line":36,"column":12},"end":{"line":36,"column":42}},"25":{"start":{"line":37,"column":12},"end":{"line":37,"column":19}},"26":{"start":{"line":40,"column":4},"end":{"line":51,"column":7}},"27":{"start":{"line":41,"column":8},"end":{"line":50,"column":11}},"28":{"start":{"line":44,"column":33},"end":{"line":44,"column":41}},"29":{"start":{"line":45,"column":12},"end":{"line":45,"column":41}},"30":{"start":{"line":46,"column":12},"end":{"line":46,"column":52}},"31":{"start":{"line":47,"column":12},"end":{"line":47,"column":42}},"32":{"start":{"line":48,"column":12},"end":{"line":48,"column":42}},"33":{"start":{"line":49,"column":12},"end":{"line":49,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":20},"end":{"line":8,"column":21}},"loc":{"start":{"line":8,"column":26},"end":{"line":52,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":32},"end":{"line":19,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":18},"end":{"line":12,"column":19}},"loc":{"start":{"line":12,"column":27},"end":{"line":18,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":24},"end":{"line":20,"column":25}},"loc":{"start":{"line":20,"column":34},"end":{"line":29,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":18},"end":{"line":23,"column":19}},"loc":{"start":{"line":23,"column":27},"end":{"line":28,"column":9}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":42},"end":{"line":30,"column":43}},"loc":{"start":{"line":30,"column":52},"end":{"line":39,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":18},"end":{"line":33,"column":19}},"loc":{"start":{"line":33,"column":27},"end":{"line":38,"column":9}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":25},"end":{"line":40,"column":26}},"loc":{"start":{"line":40,"column":35},"end":{"line":51,"column":5}},"line":40},"8":{"name":"(anonymous_8)","decl":{"start":{"line":43,"column":18},"end":{"line":43,"column":19}},"loc":{"start":{"line":43,"column":27},"end":{"line":50,"column":9}},"line":43}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\content-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\content-routes.js"],"names":[],"mappings":"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","sourcesContent":["process.env.NODE_ENV = 'test'\r\nconst expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\n\r\nconst baseUrl = '/content'\r\nconst dummyContent = require('../dummyData').dummyContent;\r\nlet dummyContentId;\r\n\r\ndescribe('Content', () => {\r\n    it('Add Content', (done) => {\r\n        request(app).post(baseUrl)\r\n        .send({nodeId: dummyContent.nodeId, content: dummyContent})\r\n        .then((res) => {\r\n            const { response } = res.body;\r\n            dummyContentId = response;\r\n            expect(response).exist;\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Fetch Content', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyContent.nodeId}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { content } = res.body;\r\n            expect(content[0].externalId).equal(dummyContent.externalId);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Fetch Content with Invalid Data', (done) => {\r\n        request(app).get(`${baseUrl}/BADNODEID`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { error  } = res.body;\r\n            expect(error).equal('Content fetch failed');\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    it('Delete Content', (done) => {\r\n        request(app).delete(`${baseUrl}/${dummyContentId}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { response } = res.body;\r\n            expect(response.n).equals(1);\r\n            expect(response.deletedCount).equals(1);\r\n            expect(response.ok).equals(1);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05f25cc59a3d737702c5d830aa291b7a7b12dcb0","contentHash":"7fe3438e5338cf6194cb0fa2db636663b5574fe85cecc5f54a3c07342507cb32"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\graph-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\graph-routes.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":37}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":24},"end":{"line":4,"column":69}},"4":{"start":{"line":5,"column":23},"end":{"line":5,"column":67}},"5":{"start":{"line":6,"column":19},"end":{"line":6,"column":53}},"6":{"start":{"line":7,"column":16},"end":{"line":7,"column":24}},"7":{"start":{"line":10,"column":0},"end":{"line":14,"column":3}},"8":{"start":{"line":11,"column":48},"end":{"line":11,"column":58}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":94}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":78}},"11":{"start":{"line":15,"column":0},"end":{"line":58,"column":3}},"12":{"start":{"line":16,"column":4},"end":{"line":25,"column":7}},"13":{"start":{"line":17,"column":8},"end":{"line":24,"column":11}},"14":{"start":{"line":20,"column":26},"end":{"line":20,"column":40}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":54}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":42}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":19}},"18":{"start":{"line":26,"column":4},"end":{"line":36,"column":7}},"19":{"start":{"line":27,"column":22},"end":{"line":27,"column":76}},"20":{"start":{"line":28,"column":8},"end":{"line":35,"column":11}},"21":{"start":{"line":31,"column":26},"end":{"line":31,"column":48}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":54}},"23":{"start":{"line":33,"column":12},"end":{"line":33,"column":42}},"24":{"start":{"line":34,"column":12},"end":{"line":34,"column":19}},"25":{"start":{"line":37,"column":4},"end":{"line":47,"column":7}},"26":{"start":{"line":38,"column":22},"end":{"line":38,"column":53}},"27":{"start":{"line":39,"column":8},"end":{"line":46,"column":11}},"28":{"start":{"line":42,"column":26},"end":{"line":42,"column":48}},"29":{"start":{"line":43,"column":12},"end":{"line":43,"column":54}},"30":{"start":{"line":44,"column":12},"end":{"line":44,"column":42}},"31":{"start":{"line":45,"column":12},"end":{"line":45,"column":19}},"32":{"start":{"line":48,"column":4},"end":{"line":57,"column":7}},"33":{"start":{"line":49,"column":8},"end":{"line":56,"column":11}},"34":{"start":{"line":52,"column":26},"end":{"line":52,"column":48}},"35":{"start":{"line":53,"column":12},"end":{"line":53,"column":54}},"36":{"start":{"line":54,"column":12},"end":{"line":54,"column":42}},"37":{"start":{"line":55,"column":12},"end":{"line":55,"column":19}},"38":{"start":{"line":59,"column":0},"end":{"line":105,"column":3}},"39":{"start":{"line":60,"column":4},"end":{"line":70,"column":7}},"40":{"start":{"line":61,"column":8},"end":{"line":69,"column":11}},"41":{"start":{"line":65,"column":29},"end":{"line":65,"column":45}},"42":{"start":{"line":66,"column":12},"end":{"line":66,"column":35}},"43":{"start":{"line":67,"column":12},"end":{"line":67,"column":42}},"44":{"start":{"line":68,"column":12},"end":{"line":68,"column":19}},"45":{"start":{"line":71,"column":4},"end":{"line":80,"column":7}},"46":{"start":{"line":72,"column":8},"end":{"line":79,"column":11}},"47":{"start":{"line":75,"column":31},"end":{"line":75,"column":39}},"48":{"start":{"line":76,"column":12},"end":{"line":76,"column":37}},"49":{"start":{"line":77,"column":12},"end":{"line":77,"column":42}},"50":{"start":{"line":78,"column":12},"end":{"line":78,"column":19}},"51":{"start":{"line":81,"column":4},"end":{"line":92,"column":7}},"52":{"start":{"line":82,"column":8},"end":{"line":91,"column":11}},"53":{"start":{"line":85,"column":29},"end":{"line":85,"column":41}},"54":{"start":{"line":86,"column":12},"end":{"line":86,"column":48}},"55":{"start":{"line":87,"column":12},"end":{"line":87,"column":40}},"56":{"start":{"line":88,"column":12},"end":{"line":88,"column":41}},"57":{"start":{"line":89,"column":12},"end":{"line":89,"column":42}},"58":{"start":{"line":90,"column":12},"end":{"line":90,"column":19}},"59":{"start":{"line":93,"column":4},"end":{"line":104,"column":7}},"60":{"start":{"line":94,"column":8},"end":{"line":103,"column":11}},"61":{"start":{"line":97,"column":29},"end":{"line":97,"column":41}},"62":{"start":{"line":98,"column":12},"end":{"line":98,"column":48}},"63":{"start":{"line":99,"column":12},"end":{"line":99,"column":40}},"64":{"start":{"line":100,"column":12},"end":{"line":100,"column":41}},"65":{"start":{"line":101,"column":12},"end":{"line":101,"column":42}},"66":{"start":{"line":102,"column":12},"end":{"line":102,"column":19}},"67":{"start":{"line":106,"column":0},"end":{"line":177,"column":3}},"68":{"start":{"line":107,"column":4},"end":{"line":116,"column":7}},"69":{"start":{"line":108,"column":8},"end":{"line":115,"column":11}},"70":{"start":{"line":111,"column":29},"end":{"line":111,"column":41}},"71":{"start":{"line":112,"column":12},"end":{"line":112,"column":41}},"72":{"start":{"line":113,"column":12},"end":{"line":113,"column":42}},"73":{"start":{"line":114,"column":12},"end":{"line":114,"column":19}},"74":{"start":{"line":117,"column":4},"end":{"line":126,"column":7}},"75":{"start":{"line":118,"column":8},"end":{"line":125,"column":11}},"76":{"start":{"line":121,"column":38},"end":{"line":121,"column":46}},"77":{"start":{"line":122,"column":12},"end":{"line":122,"column":42}},"78":{"start":{"line":123,"column":12},"end":{"line":123,"column":42}},"79":{"start":{"line":124,"column":12},"end":{"line":124,"column":19}},"80":{"start":{"line":127,"column":4},"end":{"line":136,"column":7}},"81":{"start":{"line":128,"column":8},"end":{"line":135,"column":11}},"82":{"start":{"line":131,"column":29},"end":{"line":131,"column":41}},"83":{"start":{"line":132,"column":12},"end":{"line":132,"column":41}},"84":{"start":{"line":133,"column":12},"end":{"line":133,"column":42}},"85":{"start":{"line":134,"column":12},"end":{"line":134,"column":19}},"86":{"start":{"line":137,"column":4},"end":{"line":146,"column":7}},"87":{"start":{"line":138,"column":8},"end":{"line":145,"column":11}},"88":{"start":{"line":141,"column":38},"end":{"line":141,"column":46}},"89":{"start":{"line":142,"column":12},"end":{"line":142,"column":42}},"90":{"start":{"line":143,"column":12},"end":{"line":143,"column":42}},"91":{"start":{"line":144,"column":12},"end":{"line":144,"column":19}},"92":{"start":{"line":147,"column":4},"end":{"line":156,"column":7}},"93":{"start":{"line":148,"column":8},"end":{"line":155,"column":11}},"94":{"start":{"line":151,"column":29},"end":{"line":151,"column":41}},"95":{"start":{"line":152,"column":12},"end":{"line":152,"column":41}},"96":{"start":{"line":153,"column":12},"end":{"line":153,"column":42}},"97":{"start":{"line":154,"column":12},"end":{"line":154,"column":19}},"98":{"start":{"line":157,"column":4},"end":{"line":166,"column":7}},"99":{"start":{"line":158,"column":8},"end":{"line":165,"column":11}},"100":{"start":{"line":161,"column":38},"end":{"line":161,"column":46}},"101":{"start":{"line":162,"column":12},"end":{"line":162,"column":42}},"102":{"start":{"line":163,"column":12},"end":{"line":163,"column":42}},"103":{"start":{"line":164,"column":12},"end":{"line":164,"column":19}},"104":{"start":{"line":167,"column":4},"end":{"line":176,"column":7}},"105":{"start":{"line":168,"column":8},"end":{"line":175,"column":11}},"106":{"start":{"line":171,"column":29},"end":{"line":171,"column":41}},"107":{"start":{"line":172,"column":12},"end":{"line":172,"column":41}},"108":{"start":{"line":173,"column":12},"end":{"line":173,"column":42}},"109":{"start":{"line":174,"column":12},"end":{"line":174,"column":19}},"110":{"start":{"line":178,"column":0},"end":{"line":201,"column":3}},"111":{"start":{"line":179,"column":4},"end":{"line":190,"column":7}},"112":{"start":{"line":180,"column":8},"end":{"line":189,"column":11}},"113":{"start":{"line":183,"column":29},"end":{"line":183,"column":41}},"114":{"start":{"line":184,"column":12},"end":{"line":184,"column":48}},"115":{"start":{"line":185,"column":12},"end":{"line":185,"column":40}},"116":{"start":{"line":186,"column":12},"end":{"line":186,"column":41}},"117":{"start":{"line":187,"column":12},"end":{"line":187,"column":42}},"118":{"start":{"line":188,"column":12},"end":{"line":188,"column":19}},"119":{"start":{"line":191,"column":4},"end":{"line":200,"column":7}},"120":{"start":{"line":192,"column":8},"end":{"line":199,"column":11}},"121":{"start":{"line":195,"column":31},"end":{"line":195,"column":53}},"122":{"start":{"line":196,"column":12},"end":{"line":196,"column":81}},"123":{"start":{"line":197,"column":12},"end":{"line":197,"column":42}},"124":{"start":{"line":198,"column":12},"end":{"line":198,"column":19}},"125":{"start":{"line":202,"column":0},"end":{"line":213,"column":3}},"126":{"start":{"line":203,"column":4},"end":{"line":212,"column":7}},"127":{"start":{"line":204,"column":8},"end":{"line":211,"column":11}},"128":{"start":{"line":207,"column":29},"end":{"line":207,"column":45}},"129":{"start":{"line":208,"column":12},"end":{"line":208,"column":41}},"130":{"start":{"line":209,"column":12},"end":{"line":209,"column":42}},"131":{"start":{"line":210,"column":12},"end":{"line":210,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":7},"end":{"line":10,"column":8}},"loc":{"start":{"line":10,"column":19},"end":{"line":14,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":29},"end":{"line":15,"column":30}},"loc":{"start":{"line":15,"column":35},"end":{"line":58,"column":1}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":26},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":36},"end":{"line":25,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":18},"end":{"line":19,"column":19}},"loc":{"start":{"line":19,"column":27},"end":{"line":24,"column":9}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":35},"end":{"line":26,"column":36}},"loc":{"start":{"line":26,"column":45},"end":{"line":36,"column":5}},"line":26},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":18},"end":{"line":30,"column":19}},"loc":{"start":{"line":30,"column":27},"end":{"line":35,"column":9}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":37,"column":48},"end":{"line":37,"column":49}},"loc":{"start":{"line":37,"column":58},"end":{"line":47,"column":5}},"line":37},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":18},"end":{"line":41,"column":19}},"loc":{"start":{"line":41,"column":27},"end":{"line":46,"column":9}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":33},"end":{"line":48,"column":34}},"loc":{"start":{"line":48,"column":43},"end":{"line":57,"column":5}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":51,"column":18},"end":{"line":51,"column":19}},"loc":{"start":{"line":51,"column":27},"end":{"line":56,"column":9}},"line":51},"10":{"name":"(anonymous_10)","decl":{"start":{"line":59,"column":38},"end":{"line":59,"column":39}},"loc":{"start":{"line":59,"column":44},"end":{"line":105,"column":1}},"line":59},"11":{"name":"(anonymous_11)","decl":{"start":{"line":60,"column":23},"end":{"line":60,"column":24}},"loc":{"start":{"line":60,"column":33},"end":{"line":70,"column":5}},"line":60},"12":{"name":"(anonymous_12)","decl":{"start":{"line":64,"column":18},"end":{"line":64,"column":19}},"loc":{"start":{"line":64,"column":27},"end":{"line":69,"column":9}},"line":64},"13":{"name":"(anonymous_13)","decl":{"start":{"line":71,"column":41},"end":{"line":71,"column":42}},"loc":{"start":{"line":71,"column":51},"end":{"line":80,"column":5}},"line":71},"14":{"name":"(anonymous_14)","decl":{"start":{"line":74,"column":18},"end":{"line":74,"column":19}},"loc":{"start":{"line":74,"column":27},"end":{"line":79,"column":9}},"line":74},"15":{"name":"(anonymous_15)","decl":{"start":{"line":81,"column":29},"end":{"line":81,"column":30}},"loc":{"start":{"line":81,"column":39},"end":{"line":92,"column":5}},"line":81},"16":{"name":"(anonymous_16)","decl":{"start":{"line":84,"column":18},"end":{"line":84,"column":19}},"loc":{"start":{"line":84,"column":27},"end":{"line":91,"column":9}},"line":84},"17":{"name":"(anonymous_17)","decl":{"start":{"line":93,"column":48},"end":{"line":93,"column":49}},"loc":{"start":{"line":93,"column":58},"end":{"line":104,"column":5}},"line":93},"18":{"name":"(anonymous_18)","decl":{"start":{"line":96,"column":18},"end":{"line":96,"column":19}},"loc":{"start":{"line":96,"column":27},"end":{"line":103,"column":9}},"line":96},"19":{"name":"(anonymous_19)","decl":{"start":{"line":106,"column":27},"end":{"line":106,"column":28}},"loc":{"start":{"line":106,"column":33},"end":{"line":177,"column":1}},"line":106},"20":{"name":"(anonymous_20)","decl":{"start":{"line":107,"column":32},"end":{"line":107,"column":33}},"loc":{"start":{"line":107,"column":42},"end":{"line":116,"column":5}},"line":107},"21":{"name":"(anonymous_21)","decl":{"start":{"line":110,"column":18},"end":{"line":110,"column":19}},"loc":{"start":{"line":110,"column":27},"end":{"line":115,"column":9}},"line":110},"22":{"name":"(anonymous_22)","decl":{"start":{"line":117,"column":50},"end":{"line":117,"column":51}},"loc":{"start":{"line":117,"column":60},"end":{"line":126,"column":5}},"line":117},"23":{"name":"(anonymous_23)","decl":{"start":{"line":120,"column":18},"end":{"line":120,"column":19}},"loc":{"start":{"line":120,"column":27},"end":{"line":125,"column":9}},"line":120},"24":{"name":"(anonymous_24)","decl":{"start":{"line":127,"column":36},"end":{"line":127,"column":37}},"loc":{"start":{"line":127,"column":46},"end":{"line":136,"column":5}},"line":127},"25":{"name":"(anonymous_25)","decl":{"start":{"line":130,"column":18},"end":{"line":130,"column":19}},"loc":{"start":{"line":130,"column":27},"end":{"line":135,"column":9}},"line":130},"26":{"name":"(anonymous_26)","decl":{"start":{"line":137,"column":54},"end":{"line":137,"column":55}},"loc":{"start":{"line":137,"column":64},"end":{"line":146,"column":5}},"line":137},"27":{"name":"(anonymous_27)","decl":{"start":{"line":140,"column":18},"end":{"line":140,"column":19}},"loc":{"start":{"line":140,"column":27},"end":{"line":145,"column":9}},"line":140},"28":{"name":"(anonymous_28)","decl":{"start":{"line":147,"column":41},"end":{"line":147,"column":42}},"loc":{"start":{"line":147,"column":51},"end":{"line":156,"column":5}},"line":147},"29":{"name":"(anonymous_29)","decl":{"start":{"line":150,"column":18},"end":{"line":150,"column":19}},"loc":{"start":{"line":150,"column":27},"end":{"line":155,"column":9}},"line":150},"30":{"name":"(anonymous_30)","decl":{"start":{"line":157,"column":59},"end":{"line":157,"column":60}},"loc":{"start":{"line":157,"column":69},"end":{"line":166,"column":5}},"line":157},"31":{"name":"(anonymous_31)","decl":{"start":{"line":160,"column":18},"end":{"line":160,"column":19}},"loc":{"start":{"line":160,"column":27},"end":{"line":165,"column":9}},"line":160},"32":{"name":"(anonymous_32)","decl":{"start":{"line":167,"column":32},"end":{"line":167,"column":33}},"loc":{"start":{"line":167,"column":42},"end":{"line":176,"column":5}},"line":167},"33":{"name":"(anonymous_33)","decl":{"start":{"line":170,"column":18},"end":{"line":170,"column":19}},"loc":{"start":{"line":170,"column":27},"end":{"line":175,"column":9}},"line":170},"34":{"name":"(anonymous_34)","decl":{"start":{"line":178,"column":24},"end":{"line":178,"column":25}},"loc":{"start":{"line":178,"column":30},"end":{"line":201,"column":1}},"line":178},"35":{"name":"(anonymous_35)","decl":{"start":{"line":179,"column":35},"end":{"line":179,"column":36}},"loc":{"start":{"line":179,"column":45},"end":{"line":190,"column":5}},"line":179},"36":{"name":"(anonymous_36)","decl":{"start":{"line":182,"column":18},"end":{"line":182,"column":19}},"loc":{"start":{"line":182,"column":27},"end":{"line":189,"column":9}},"line":182},"37":{"name":"(anonymous_37)","decl":{"start":{"line":191,"column":31},"end":{"line":191,"column":32}},"loc":{"start":{"line":191,"column":41},"end":{"line":200,"column":5}},"line":191},"38":{"name":"(anonymous_38)","decl":{"start":{"line":194,"column":18},"end":{"line":194,"column":19}},"loc":{"start":{"line":194,"column":27},"end":{"line":199,"column":9}},"line":194},"39":{"name":"(anonymous_39)","decl":{"start":{"line":202,"column":26},"end":{"line":202,"column":27}},"loc":{"start":{"line":202,"column":32},"end":{"line":213,"column":1}},"line":202},"40":{"name":"(anonymous_40)","decl":{"start":{"line":203,"column":31},"end":{"line":203,"column":32}},"loc":{"start":{"line":203,"column":41},"end":{"line":212,"column":5}},"line":203},"41":{"name":"(anonymous_41)","decl":{"start":{"line":206,"column":18},"end":{"line":206,"column":19}},"loc":{"start":{"line":206,"column":27},"end":{"line":211,"column":9}},"line":206}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\graph-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\graph-routes.js"],"names":[],"mappings":"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","sourcesContent":["const expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\n\r\n\r\nconst graphController = require('../../controllers/graph-controller');\r\nconst userController = require('../../controllers/user-controller');\r\nconst dummyGraph = require('../dummyData').dummyGraph;\r\n\r\nconst baseUrl = '/graph'\r\nlet dummyGraphId;\r\nlet dummyUserId;\r\n\r\nbefore(async () => {\r\n  const {name, description, userId, tags} = dummyGraph;\r\n  dummyGraphId = graphController.createNewGraph(name, description, userId, tags).toString();\r\n  dummyUserId = userController.saveUserToDatabase('graphTest', 'graphTest');\r\n});\r\n\r\n\r\ndescribe('Fetch Graph data', () => {\r\n    it('Get Graph by Id', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyGraphId}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const graph = res.body.graph;\r\n            expect(graph.name).equal(dummyGraph.name)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get Graph Views by query', (done) => {\r\n        const query = \"?name=Dummy&tags%5B%5D=Dummy%20Tag&page=1&pageSize=4\"\r\n        request(app).get(`${baseUrl}/views/${query}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const graph = res.body.graphViews[0];\r\n            expect(graph.name).equal(dummyGraph.name)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get Graph Views by query without Tags', (done) => {\r\n        const query = \"?name=Dummy&page=1&pageSize=4\"\r\n        request(app).get(`${baseUrl}/views/${query}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const graph = res.body.graphViews[0];\r\n            expect(graph.name).equal(dummyGraph.name)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get Graph Views by Ids', (done) => {\r\n        request(app).post(`${baseUrl}/views`)\r\n        .send({graphIds: [dummyGraphId]})\r\n        .then((res) => {\r\n            const graph = res.body.graphViews[0];\r\n            expect(graph.name).equal(dummyGraph.name)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('Create and Updating Graph', () => {\r\n    it('Create Graph', (done) => {\r\n        request(app).post(`${baseUrl}/create`)\r\n        .send({userId: dummyUserId, name: 'DummyGraphName',\r\n                description: 'DummyDescription', tags: []})\r\n        .then((res) => {\r\n            const response = res.body.graphId;\r\n            expect(response).exist;\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Create Graph with invalid data', (done) => {\r\n        request(app).post(`${baseUrl}/create`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { errors } = res.body;\r\n            expect(errors).length(3);\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Update Graph by Id', (done) => {\r\n        request(app).post(`${baseUrl}/${dummyGraphId}`)\r\n        .send({edges: [dummyGraph.edges], nodes: [dummyGraph.nodes], style: [], image: ''})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response.nModified).equal(1)\r\n            expect(response.n).equal(1)\r\n            expect(response.ok).equal(1)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Update Graph by empty nodes and edges', (done) => {\r\n        request(app).post(`${baseUrl}/${dummyGraphId}`)\r\n        .send({style: [], image: ''})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response.nModified).equal(1)\r\n            expect(response.n).equal(1)\r\n            expect(response.ok).equal(1)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('Graph Progress', () => {\r\n    it('Add Graph to Progress', (done) => {\r\n        request(app).post(`${baseUrl}/progress`)\r\n        .send({graphId: dummyGraphId, userId: dummyUserId})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response).equal(true)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add Graph to Progress with invalid data', (done) => {\r\n        request(app).post(`${baseUrl}/progress`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { res: response } = res.body;\r\n            expect(response).equal(false)\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add Node to User Progress', (done) => {\r\n        request(app).post(`${baseUrl}/progress/node`)\r\n        .send({userId: dummyUserId, graphId: dummyGraphId, nodeId: dummyGraph.nodes[0].data.id})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response).equal(true)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add Node to User Progress with invalid data', (done) => {\r\n        request(app).post(`${baseUrl}/progress/node`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { res: response } = res.body;\r\n            expect(response).equal(false)\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Remove Node From User Progress', (done) => {\r\n        request(app).post(`${baseUrl}/progress/node/remove`)\r\n        .send({userId: dummyUserId, graphId: dummyGraphId, nodeId: dummyGraph.nodes[0].data.id})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response).equal(true)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Remove Node From User Progress with Invalid Data', (done) => {\r\n        request(app).post(`${baseUrl}/progress/node/remove`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { res: response } = res.body;\r\n            expect(response).equal(false)\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Remove Graph Progress', (done) => {\r\n        request(app).post(`${baseUrl}/progress/remove`)\r\n        .send({graphId: dummyGraphId, userId: dummyUserId})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response).equal(true)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n})\r\n\r\ndescribe('Graph Style', () => {\r\n    it('Update Graph style by Id', (done) => {\r\n        request(app).post(`${baseUrl}/${dummyGraphId}/style`)\r\n        .send({styleSheet: dummyGraph.styleSheet})\r\n        .then((res) => {\r\n            const response = res.body.res;\r\n            expect(response.nModified).equal(1)\r\n            expect(response.n).equal(1)\r\n            expect(response.ok).equal(1)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get Graph StyleSheet', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyGraphId}/style`)\r\n        .send({})\r\n        .then((res) => {\r\n            const styleSheet = res.body.styleSheet[0];\r\n            expect(styleSheet.selector).equal(dummyGraph.styleSheet[0].selector)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\n\r\ndescribe('Graph Privacy', () => {\r\n    it('Update Graph privacy', (done) => {\r\n        request(app).post(`${baseUrl}/${dummyGraphId}/privacy`)\r\n        .send({privacy: true})\r\n        .then((res) => {\r\n            const response = res.body.success;\r\n            expect(response).equal(true)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3c437b6d2ccfb6540a7cc3f82a94819d16cc25a","contentHash":"5ef313f935e2ebaa6302d2ade9e773fdb736aa2dd01d244561ea2b83d26d9d4a"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\objective-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\objective-routes.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":37}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":23},"end":{"line":4,"column":61}},"4":{"start":{"line":5,"column":16},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":0},"end":{"line":41,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":18,"column":7}},"7":{"start":{"line":8,"column":8},"end":{"line":17,"column":11}},"8":{"start":{"line":12,"column":38},"end":{"line":12,"column":46}},"9":{"start":{"line":13,"column":12},"end":{"line":13,"column":38}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":34}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":42}},"12":{"start":{"line":16,"column":12},"end":{"line":16,"column":19}},"13":{"start":{"line":19,"column":4},"end":{"line":28,"column":7}},"14":{"start":{"line":20,"column":8},"end":{"line":27,"column":11}},"15":{"start":{"line":23,"column":25},"end":{"line":23,"column":42}},"16":{"start":{"line":24,"column":12},"end":{"line":24,"column":68}},"17":{"start":{"line":25,"column":12},"end":{"line":25,"column":42}},"18":{"start":{"line":26,"column":12},"end":{"line":26,"column":19}},"19":{"start":{"line":29,"column":4},"end":{"line":40,"column":7}},"20":{"start":{"line":30,"column":8},"end":{"line":39,"column":11}},"21":{"start":{"line":34,"column":38},"end":{"line":34,"column":46}},"22":{"start":{"line":35,"column":12},"end":{"line":35,"column":41}},"23":{"start":{"line":36,"column":12},"end":{"line":36,"column":34}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":42}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":23},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":29},"end":{"line":41,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":24},"end":{"line":7,"column":25}},"loc":{"start":{"line":7,"column":34},"end":{"line":18,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":27},"end":{"line":17,"column":9}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":30},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":40},"end":{"line":28,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":18},"end":{"line":22,"column":19}},"loc":{"start":{"line":22,"column":27},"end":{"line":27,"column":9}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":37},"end":{"line":40,"column":5}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":18},"end":{"line":33,"column":19}},"loc":{"start":{"line":33,"column":27},"end":{"line":39,"column":9}},"line":33}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\objective-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\objective-routes.js"],"names":[],"mappings":"AAAA,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;AACtC,MAAM,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACrC,MAAM,GAAG,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAEpC,MAAM,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC;AAE9D,MAAM,OAAO,GAAG,YAAY,CAAC;AAE7B,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;IACxB,EAAE,CAAC,eAAe,EAAE,CAAC,IAAI,EAAE,EAAE;QACzB,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC;aAC9B,IAAI,CAAC,EAAC,MAAM,EAAE,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,cAAc,CAAC,MAAM;YAC3D,KAAK,EAAE,cAAc,CAAC,KAAK,EAAC,CAAC;aACpC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;YACzB,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAA;YACrB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,EAAE,CAAC;QACX,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;IAGF,EAAE,CAAC,qBAAqB,EAAE,CAAC,IAAI,EAAE,EAAE;QAC/B,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,IAAI,cAAc,CAAC,MAAM,IAAI,cAAc,CAAC,MAAM,EAAE,CAAC;aAC/E,IAAI,CAAC,EAAE,CAAC;aACR,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC/B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAA;YACvD,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,EAAE,CAAC;QACX,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,kBAAkB,EAAE,CAAC,IAAI,EAAE,EAAE;QAC5B,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC;aAC9B,IAAI,CAAC,EAAC,MAAM,EAAE,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,cAAc,CAAC,MAAM;YAC3D,KAAK,EAAE,cAAc,CAAC,KAAK,EAAC,CAAC;aACpC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;YAC5B,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAA;YACrB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,EAAE,CAAC;QACX,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAA","sourcesContent":["const expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\n\r\nconst dummyObjective = require('../dummyData').dummyObjective;\r\n\r\nconst baseUrl = '/objective';\r\n\r\ndescribe('Objectives', () => {\r\n    it('Add Objective', (done) => {\r\n        request(app).post(`${baseUrl}`)\r\n        .send({userId: dummyObjective.userId, nodeId: dummyObjective.nodeId, \r\n                items: dummyObjective.items})\r\n        .then((res) => {\r\n            const { type, updated } = res.body;\r\n            expect(type).equal('add')\r\n            expect(updated).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    it('Get Objective by Id', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyObjective.userId}/${dummyObjective.nodeId}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const item = res.body.items[0];\r\n            expect(item.label).equal(dummyObjective.items[0].label)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Update Objective', (done) => {\r\n        request(app).post(`${baseUrl}`)\r\n        .send({userId: dummyObjective.userId, nodeId: dummyObjective.nodeId, \r\n                items: dummyObjective.items})\r\n        .then((res) => {\r\n            const { type, updated } = res.body;\r\n            expect(type).equal('update')\r\n            expect(updated).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"49b6560301f5a8e07a0bde9bac00c49e8c465bb1","contentHash":"ccd301d135304acb4a3107c21540ec96412303ed3e2f9f173143dd750bca1ff1"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\tag-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\tag-routes.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":37}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":18},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":16},"end":{"line":5,"column":22}},"5":{"start":{"line":6,"column":0},"end":{"line":59,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":16,"column":7}},"7":{"start":{"line":8,"column":8},"end":{"line":15,"column":11}},"8":{"start":{"line":11,"column":29},"end":{"line":11,"column":37}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":31}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":42}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":19}},"12":{"start":{"line":17,"column":4},"end":{"line":26,"column":7}},"13":{"start":{"line":18,"column":8},"end":{"line":25,"column":11}},"14":{"start":{"line":21,"column":33},"end":{"line":21,"column":41}},"15":{"start":{"line":22,"column":12},"end":{"line":22,"column":35}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":42}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},"18":{"start":{"line":27,"column":4},"end":{"line":36,"column":7}},"19":{"start":{"line":28,"column":8},"end":{"line":35,"column":11}},"20":{"start":{"line":31,"column":33},"end":{"line":31,"column":41}},"21":{"start":{"line":32,"column":12},"end":{"line":32,"column":35}},"22":{"start":{"line":33,"column":12},"end":{"line":33,"column":42}},"23":{"start":{"line":34,"column":12},"end":{"line":34,"column":19}},"24":{"start":{"line":37,"column":4},"end":{"line":47,"column":7}},"25":{"start":{"line":38,"column":8},"end":{"line":46,"column":11}},"26":{"start":{"line":41,"column":33},"end":{"line":41,"column":41}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":38}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":38}},"29":{"start":{"line":44,"column":12},"end":{"line":44,"column":42}},"30":{"start":{"line":45,"column":12},"end":{"line":45,"column":19}},"31":{"start":{"line":48,"column":4},"end":{"line":58,"column":7}},"32":{"start":{"line":49,"column":8},"end":{"line":57,"column":11}},"33":{"start":{"line":52,"column":29},"end":{"line":52,"column":37}},"34":{"start":{"line":53,"column":12},"end":{"line":53,"column":52}},"35":{"start":{"line":54,"column":12},"end":{"line":54,"column":52}},"36":{"start":{"line":55,"column":12},"end":{"line":55,"column":42}},"37":{"start":{"line":56,"column":12},"end":{"line":56,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":23},"end":{"line":59,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":41},"end":{"line":7,"column":42}},"loc":{"start":{"line":7,"column":51},"end":{"line":16,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":18},"end":{"line":10,"column":19}},"loc":{"start":{"line":10,"column":27},"end":{"line":15,"column":9}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":28},"end":{"line":26,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":18},"end":{"line":20,"column":19}},"loc":{"start":{"line":20,"column":27},"end":{"line":25,"column":9}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":21},"end":{"line":27,"column":22}},"loc":{"start":{"line":27,"column":31},"end":{"line":36,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":30,"column":18},"end":{"line":30,"column":19}},"loc":{"start":{"line":30,"column":27},"end":{"line":35,"column":9}},"line":30},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":24},"end":{"line":37,"column":25}},"loc":{"start":{"line":37,"column":34},"end":{"line":47,"column":5}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":40,"column":18},"end":{"line":40,"column":19}},"loc":{"start":{"line":40,"column":27},"end":{"line":46,"column":9}},"line":40},"9":{"name":"(anonymous_9)","decl":{"start":{"line":48,"column":26},"end":{"line":48,"column":27}},"loc":{"start":{"line":48,"column":36},"end":{"line":58,"column":5}},"line":48},"10":{"name":"(anonymous_10)","decl":{"start":{"line":51,"column":18},"end":{"line":51,"column":19}},"loc":{"start":{"line":51,"column":27},"end":{"line":57,"column":9}},"line":51}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\tag-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\tag-routes.js"],"names":[],"mappings":"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","sourcesContent":["const expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\n\r\nconst dummyTags = require('../dummyData').dummyTags;\r\n\r\nconst baseUrl = '/tag';\r\n\r\ndescribe('Tags', () => {\r\n    it('Fetch Tags with empty database', (done) => {\r\n        request(app).get(`${baseUrl}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { tags } = res.body;\r\n            expect(tags).empty;\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add Tag', (done) => {\r\n        request(app).post(`${baseUrl}`)\r\n        .send({tag: dummyTags[0]})\r\n        .then((res) => {\r\n            const { response } = res.body;\r\n            expect(response).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Delete Tag', (done) => {\r\n        request(app).post(`${baseUrl}`)\r\n        .send({tag: dummyTags[0]})\r\n        .then((res) => {\r\n            const { response } = res.body;\r\n            expect(response).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add Many Tags', (done) => {\r\n        request(app).post(`${baseUrl}/many`)\r\n        .send({tagArray: dummyTags})\r\n        .then((res) => {\r\n            const { response } = res.body;\r\n            expect(response[0]).exist\r\n            expect(response[1]).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Fetch Many Tags', (done) => {\r\n        request(app).get(`${baseUrl}`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { tags } = res.body;\r\n            expect(tags[0]).equal(dummyTags[0].tag)\r\n            expect(tags[1]).equal(dummyTags[1].tag)\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2296e5461057ecd3665f92276b5c88c3e45b9225","contentHash":"63185507ea423e31c6c69f5d78fa9b675fb52c895a5e1e81848417e6b7daeac4"},"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\user-routes.js":{"path":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\user-routes.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":37}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":36}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":24},"end":{"line":4,"column":69}},"4":{"start":{"line":5,"column":26},"end":{"line":5,"column":73}},"5":{"start":{"line":6,"column":18},"end":{"line":6,"column":51}},"6":{"start":{"line":7,"column":19},"end":{"line":7,"column":53}},"7":{"start":{"line":8,"column":21},"end":{"line":8,"column":57}},"8":{"start":{"line":9,"column":16},"end":{"line":9,"column":23}},"9":{"start":{"line":13,"column":0},"end":{"line":17,"column":3}},"10":{"start":{"line":14,"column":48},"end":{"line":14,"column":58}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":94}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":96}},"13":{"start":{"line":18,"column":0},"end":{"line":50,"column":3}},"14":{"start":{"line":19,"column":4},"end":{"line":29,"column":7}},"15":{"start":{"line":20,"column":8},"end":{"line":28,"column":11}},"16":{"start":{"line":23,"column":31},"end":{"line":23,"column":39}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":33}},"18":{"start":{"line":25,"column":12},"end":{"line":25,"column":33}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":42}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":19}},"21":{"start":{"line":30,"column":4},"end":{"line":39,"column":7}},"22":{"start":{"line":31,"column":8},"end":{"line":38,"column":11}},"23":{"start":{"line":34,"column":30},"end":{"line":34,"column":38}},"24":{"start":{"line":35,"column":12},"end":{"line":35,"column":59}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":42}},"26":{"start":{"line":37,"column":12},"end":{"line":37,"column":19}},"27":{"start":{"line":40,"column":4},"end":{"line":49,"column":7}},"28":{"start":{"line":41,"column":8},"end":{"line":48,"column":11}},"29":{"start":{"line":44,"column":31},"end":{"line":44,"column":39}},"30":{"start":{"line":45,"column":12},"end":{"line":45,"column":37}},"31":{"start":{"line":46,"column":12},"end":{"line":46,"column":42}},"32":{"start":{"line":47,"column":12},"end":{"line":47,"column":19}},"33":{"start":{"line":51,"column":0},"end":{"line":82,"column":3}},"34":{"start":{"line":52,"column":4},"end":{"line":61,"column":7}},"35":{"start":{"line":53,"column":8},"end":{"line":60,"column":11}},"36":{"start":{"line":56,"column":30},"end":{"line":56,"column":38}},"37":{"start":{"line":57,"column":12},"end":{"line":57,"column":32}},"38":{"start":{"line":58,"column":12},"end":{"line":58,"column":42}},"39":{"start":{"line":59,"column":12},"end":{"line":59,"column":19}},"40":{"start":{"line":62,"column":4},"end":{"line":71,"column":7}},"41":{"start":{"line":63,"column":8},"end":{"line":70,"column":11}},"42":{"start":{"line":66,"column":30},"end":{"line":66,"column":38}},"43":{"start":{"line":67,"column":12},"end":{"line":67,"column":52}},"44":{"start":{"line":68,"column":12},"end":{"line":68,"column":42}},"45":{"start":{"line":69,"column":12},"end":{"line":69,"column":19}},"46":{"start":{"line":72,"column":4},"end":{"line":81,"column":7}},"47":{"start":{"line":73,"column":8},"end":{"line":80,"column":11}},"48":{"start":{"line":76,"column":31},"end":{"line":76,"column":39}},"49":{"start":{"line":77,"column":12},"end":{"line":77,"column":37}},"50":{"start":{"line":78,"column":12},"end":{"line":78,"column":42}},"51":{"start":{"line":79,"column":12},"end":{"line":79,"column":19}},"52":{"start":{"line":83,"column":0},"end":{"line":114,"column":3}},"53":{"start":{"line":84,"column":4},"end":{"line":93,"column":7}},"54":{"start":{"line":85,"column":8},"end":{"line":92,"column":11}},"55":{"start":{"line":88,"column":33},"end":{"line":88,"column":41}},"56":{"start":{"line":89,"column":12},"end":{"line":89,"column":56}},"57":{"start":{"line":90,"column":12},"end":{"line":90,"column":42}},"58":{"start":{"line":91,"column":12},"end":{"line":91,"column":19}},"59":{"start":{"line":94,"column":4},"end":{"line":103,"column":7}},"60":{"start":{"line":95,"column":8},"end":{"line":102,"column":11}},"61":{"start":{"line":98,"column":33},"end":{"line":98,"column":41}},"62":{"start":{"line":99,"column":12},"end":{"line":99,"column":56}},"63":{"start":{"line":100,"column":12},"end":{"line":100,"column":42}},"64":{"start":{"line":101,"column":12},"end":{"line":101,"column":19}},"65":{"start":{"line":104,"column":4},"end":{"line":113,"column":7}},"66":{"start":{"line":105,"column":8},"end":{"line":112,"column":11}},"67":{"start":{"line":108,"column":39},"end":{"line":108,"column":47}},"68":{"start":{"line":109,"column":12},"end":{"line":109,"column":41}},"69":{"start":{"line":110,"column":12},"end":{"line":110,"column":42}},"70":{"start":{"line":111,"column":12},"end":{"line":111,"column":19}},"71":{"start":{"line":115,"column":0},"end":{"line":168,"column":3}},"72":{"start":{"line":116,"column":4},"end":{"line":128,"column":7}},"73":{"start":{"line":117,"column":8},"end":{"line":127,"column":11}},"74":{"start":{"line":120,"column":38},"end":{"line":120,"column":46}},"75":{"start":{"line":121,"column":12},"end":{"line":121,"column":40}},"76":{"start":{"line":122,"column":12},"end":{"line":122,"column":48}},"77":{"start":{"line":123,"column":12},"end":{"line":123,"column":41}},"78":{"start":{"line":124,"column":12},"end":{"line":124,"column":39}},"79":{"start":{"line":125,"column":12},"end":{"line":125,"column":42}},"80":{"start":{"line":126,"column":12},"end":{"line":126,"column":19}},"81":{"start":{"line":129,"column":4},"end":{"line":141,"column":7}},"82":{"start":{"line":130,"column":8},"end":{"line":140,"column":11}},"83":{"start":{"line":133,"column":38},"end":{"line":133,"column":46}},"84":{"start":{"line":134,"column":12},"end":{"line":134,"column":40}},"85":{"start":{"line":135,"column":12},"end":{"line":135,"column":48}},"86":{"start":{"line":136,"column":12},"end":{"line":136,"column":41}},"87":{"start":{"line":137,"column":12},"end":{"line":137,"column":42}},"88":{"start":{"line":138,"column":12},"end":{"line":138,"column":42}},"89":{"start":{"line":139,"column":12},"end":{"line":139,"column":19}},"90":{"start":{"line":142,"column":4},"end":{"line":154,"column":7}},"91":{"start":{"line":143,"column":8},"end":{"line":153,"column":11}},"92":{"start":{"line":146,"column":38},"end":{"line":146,"column":46}},"93":{"start":{"line":147,"column":12},"end":{"line":147,"column":40}},"94":{"start":{"line":148,"column":12},"end":{"line":148,"column":48}},"95":{"start":{"line":149,"column":12},"end":{"line":149,"column":41}},"96":{"start":{"line":150,"column":12},"end":{"line":150,"column":39}},"97":{"start":{"line":151,"column":12},"end":{"line":151,"column":42}},"98":{"start":{"line":152,"column":12},"end":{"line":152,"column":19}},"99":{"start":{"line":155,"column":4},"end":{"line":167,"column":7}},"100":{"start":{"line":156,"column":8},"end":{"line":166,"column":11}},"101":{"start":{"line":159,"column":38},"end":{"line":159,"column":46}},"102":{"start":{"line":160,"column":12},"end":{"line":160,"column":40}},"103":{"start":{"line":161,"column":12},"end":{"line":161,"column":48}},"104":{"start":{"line":162,"column":12},"end":{"line":162,"column":41}},"105":{"start":{"line":163,"column":12},"end":{"line":163,"column":42}},"106":{"start":{"line":164,"column":12},"end":{"line":164,"column":42}},"107":{"start":{"line":165,"column":12},"end":{"line":165,"column":19}},"108":{"start":{"line":169,"column":0},"end":{"line":190,"column":3}},"109":{"start":{"line":170,"column":4},"end":{"line":179,"column":7}},"110":{"start":{"line":171,"column":8},"end":{"line":178,"column":11}},"111":{"start":{"line":174,"column":32},"end":{"line":174,"column":40}},"112":{"start":{"line":175,"column":12},"end":{"line":175,"column":41}},"113":{"start":{"line":176,"column":12},"end":{"line":176,"column":42}},"114":{"start":{"line":177,"column":12},"end":{"line":177,"column":19}},"115":{"start":{"line":180,"column":4},"end":{"line":189,"column":7}},"116":{"start":{"line":181,"column":8},"end":{"line":188,"column":11}},"117":{"start":{"line":184,"column":30},"end":{"line":184,"column":38}},"118":{"start":{"line":185,"column":12},"end":{"line":185,"column":50}},"119":{"start":{"line":186,"column":12},"end":{"line":186,"column":42}},"120":{"start":{"line":187,"column":12},"end":{"line":187,"column":19}},"121":{"start":{"line":191,"column":0},"end":{"line":202,"column":3}},"122":{"start":{"line":192,"column":4},"end":{"line":201,"column":7}},"123":{"start":{"line":193,"column":8},"end":{"line":200,"column":11}},"124":{"start":{"line":196,"column":32},"end":{"line":196,"column":40}},"125":{"start":{"line":197,"column":12},"end":{"line":197,"column":41}},"126":{"start":{"line":198,"column":12},"end":{"line":198,"column":42}},"127":{"start":{"line":199,"column":12},"end":{"line":199,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":7},"end":{"line":13,"column":8}},"loc":{"start":{"line":13,"column":19},"end":{"line":17,"column":1}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":21},"end":{"line":18,"column":22}},"loc":{"start":{"line":18,"column":27},"end":{"line":50,"column":1}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":37},"end":{"line":19,"column":38}},"loc":{"start":{"line":19,"column":47},"end":{"line":29,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":18},"end":{"line":22,"column":19}},"loc":{"start":{"line":22,"column":27},"end":{"line":28,"column":9}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":42},"end":{"line":30,"column":43}},"loc":{"start":{"line":30,"column":52},"end":{"line":39,"column":5}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":18},"end":{"line":33,"column":19}},"loc":{"start":{"line":33,"column":27},"end":{"line":38,"column":9}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":40,"column":35},"end":{"line":40,"column":36}},"loc":{"start":{"line":40,"column":45},"end":{"line":49,"column":5}},"line":40},"7":{"name":"(anonymous_7)","decl":{"start":{"line":43,"column":18},"end":{"line":43,"column":19}},"loc":{"start":{"line":43,"column":27},"end":{"line":48,"column":9}},"line":43},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":18},"end":{"line":51,"column":19}},"loc":{"start":{"line":51,"column":24},"end":{"line":82,"column":1}},"line":51},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":35},"end":{"line":52,"column":36}},"loc":{"start":{"line":52,"column":45},"end":{"line":61,"column":5}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":55,"column":18},"end":{"line":55,"column":19}},"loc":{"start":{"line":55,"column":27},"end":{"line":60,"column":9}},"line":55},"11":{"name":"(anonymous_11)","decl":{"start":{"line":62,"column":39},"end":{"line":62,"column":40}},"loc":{"start":{"line":62,"column":49},"end":{"line":71,"column":5}},"line":62},"12":{"name":"(anonymous_12)","decl":{"start":{"line":65,"column":18},"end":{"line":65,"column":19}},"loc":{"start":{"line":65,"column":27},"end":{"line":70,"column":9}},"line":65},"13":{"name":"(anonymous_13)","decl":{"start":{"line":72,"column":32},"end":{"line":72,"column":33}},"loc":{"start":{"line":72,"column":42},"end":{"line":81,"column":5}},"line":72},"14":{"name":"(anonymous_14)","decl":{"start":{"line":75,"column":18},"end":{"line":75,"column":19}},"loc":{"start":{"line":75,"column":27},"end":{"line":80,"column":9}},"line":75},"15":{"name":"(anonymous_15)","decl":{"start":{"line":83,"column":23},"end":{"line":83,"column":24}},"loc":{"start":{"line":83,"column":29},"end":{"line":114,"column":1}},"line":83},"16":{"name":"(anonymous_16)","decl":{"start":{"line":84,"column":32},"end":{"line":84,"column":33}},"loc":{"start":{"line":84,"column":42},"end":{"line":93,"column":5}},"line":84},"17":{"name":"(anonymous_17)","decl":{"start":{"line":87,"column":18},"end":{"line":87,"column":19}},"loc":{"start":{"line":87,"column":27},"end":{"line":92,"column":9}},"line":87},"18":{"name":"(anonymous_18)","decl":{"start":{"line":94,"column":38},"end":{"line":94,"column":39}},"loc":{"start":{"line":94,"column":48},"end":{"line":103,"column":5}},"line":94},"19":{"name":"(anonymous_19)","decl":{"start":{"line":97,"column":18},"end":{"line":97,"column":19}},"loc":{"start":{"line":97,"column":27},"end":{"line":102,"column":9}},"line":97},"20":{"name":"(anonymous_20)","decl":{"start":{"line":104,"column":41},"end":{"line":104,"column":42}},"loc":{"start":{"line":104,"column":51},"end":{"line":113,"column":5}},"line":104},"21":{"name":"(anonymous_21)","decl":{"start":{"line":107,"column":18},"end":{"line":107,"column":19}},"loc":{"start":{"line":107,"column":27},"end":{"line":112,"column":9}},"line":107},"22":{"name":"(anonymous_22)","decl":{"start":{"line":115,"column":40},"end":{"line":115,"column":41}},"loc":{"start":{"line":115,"column":46},"end":{"line":168,"column":1}},"line":115},"23":{"name":"(anonymous_23)","decl":{"start":{"line":116,"column":28},"end":{"line":116,"column":29}},"loc":{"start":{"line":116,"column":38},"end":{"line":128,"column":5}},"line":116},"24":{"name":"(anonymous_24)","decl":{"start":{"line":119,"column":18},"end":{"line":119,"column":19}},"loc":{"start":{"line":119,"column":27},"end":{"line":127,"column":9}},"line":119},"25":{"name":"(anonymous_25)","decl":{"start":{"line":129,"column":31},"end":{"line":129,"column":32}},"loc":{"start":{"line":129,"column":41},"end":{"line":141,"column":5}},"line":129},"26":{"name":"(anonymous_26)","decl":{"start":{"line":132,"column":18},"end":{"line":132,"column":19}},"loc":{"start":{"line":132,"column":27},"end":{"line":140,"column":9}},"line":132},"27":{"name":"(anonymous_27)","decl":{"start":{"line":142,"column":26},"end":{"line":142,"column":27}},"loc":{"start":{"line":142,"column":36},"end":{"line":154,"column":5}},"line":142},"28":{"name":"(anonymous_28)","decl":{"start":{"line":145,"column":18},"end":{"line":145,"column":19}},"loc":{"start":{"line":145,"column":27},"end":{"line":153,"column":9}},"line":145},"29":{"name":"(anonymous_29)","decl":{"start":{"line":155,"column":29},"end":{"line":155,"column":30}},"loc":{"start":{"line":155,"column":39},"end":{"line":167,"column":5}},"line":155},"30":{"name":"(anonymous_30)","decl":{"start":{"line":158,"column":18},"end":{"line":158,"column":19}},"loc":{"start":{"line":158,"column":27},"end":{"line":166,"column":9}},"line":158},"31":{"name":"(anonymous_31)","decl":{"start":{"line":169,"column":23},"end":{"line":169,"column":24}},"loc":{"start":{"line":169,"column":29},"end":{"line":190,"column":1}},"line":169},"32":{"name":"(anonymous_32)","decl":{"start":{"line":170,"column":25},"end":{"line":170,"column":26}},"loc":{"start":{"line":170,"column":35},"end":{"line":179,"column":5}},"line":170},"33":{"name":"(anonymous_33)","decl":{"start":{"line":173,"column":18},"end":{"line":173,"column":19}},"loc":{"start":{"line":173,"column":27},"end":{"line":178,"column":9}},"line":173},"34":{"name":"(anonymous_34)","decl":{"start":{"line":180,"column":25},"end":{"line":180,"column":26}},"loc":{"start":{"line":180,"column":35},"end":{"line":189,"column":5}},"line":180},"35":{"name":"(anonymous_35)","decl":{"start":{"line":183,"column":18},"end":{"line":183,"column":19}},"loc":{"start":{"line":183,"column":27},"end":{"line":188,"column":9}},"line":183},"36":{"name":"(anonymous_36)","decl":{"start":{"line":191,"column":25},"end":{"line":191,"column":26}},"loc":{"start":{"line":191,"column":31},"end":{"line":202,"column":1}},"line":191},"37":{"name":"(anonymous_37)","decl":{"start":{"line":192,"column":30},"end":{"line":192,"column":31}},"loc":{"start":{"line":192,"column":40},"end":{"line":201,"column":5}},"line":192},"38":{"name":"(anonymous_38)","decl":{"start":{"line":195,"column":18},"end":{"line":195,"column":19}},"loc":{"start":{"line":195,"column":27},"end":{"line":200,"column":9}},"line":195}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1},"b":{},"inputSourceMap":{"version":3,"file":"C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\user-routes.js","sources":["C:\\Users\\harry\\OneDrive\\University\\Year 3\\Project\\Skillify\\Back-End\\src\\test\\routes\\user-routes.js"],"names":[],"mappings":"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","sourcesContent":["const expect = require('chai').expect;\r\nconst request = require('supertest');\r\nconst app = require('../../app.ts');\r\nconst graphController = require('../../controllers/graph-controller');\r\nconst contentController = require('../../controllers/content-controller');\r\n\r\n\r\nconst dummyUser = require('../dummyData').dummyUser;\r\nconst dummyGraph = require('../dummyData').dummyGraph;\r\nconst dummyContent = require('../dummyData').dummyContent;\r\nconst baseUrl = '/user';\r\nlet dummyUserId;\r\nlet dummyGraphId;\r\nlet dummyContentId;\r\n\r\nbefore(async () => {\r\n    const {name, description, userId, tags} = dummyGraph;\r\n    dummyGraphId = graphController.createNewGraph(name, description, userId, tags).toString();\r\n    dummyContentId = contentController.addContent(dummyContent.nodeId, dummyContent).toString();\r\n  });\r\n\r\n\r\ndescribe('Register', () => {\r\n    it('Register with new Username', (done) => {\r\n        request(app).post(`${baseUrl}/register`)\r\n        .send({username: dummyUser.username, password: dummyUser.password})\r\n        .then((res) => {\r\n            const { userId } = res.body;\r\n            expect(userId).exist\r\n            dummyUserId = userId;\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Register with existing Username', (done) => {\r\n        request(app).post(`${baseUrl}/register`)\r\n        .send({username: dummyUser.username, password: dummyUser.password})\r\n        .then((res) => {\r\n            const { error } = res.body;\r\n            expect(error).equal(\"username already exists\")\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Register with empty data', (done) => {\r\n        request(app).post(`${baseUrl}/register`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { errors } = res.body;\r\n            expect(errors).length(2)\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('Login', () => {\r\n    it('Login with existing User', (done) => {\r\n        request(app).post(`${baseUrl}/login`)\r\n        .send({username: dummyUser.username, password: dummyUser.password})\r\n        .then((res) => {\r\n            const { token } = res.body;\r\n            expect(token).exist\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Login with non existant User', (done) => {\r\n        request(app).post(`${baseUrl}/login`)\r\n        .send({username: 'I DONT EXIST', password: dummyUser.password})\r\n        .then((res) => {\r\n            const { error } = res.body;\r\n            expect(error).equal('cannot find user');\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Login with empty data', (done) => {\r\n        request(app).post(`${baseUrl}/login`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { errors } = res.body;\r\n            expect(errors).length(2)\r\n            expect(res.status).equal(400);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('Fetch Data', () => {\r\n    it('Fetch User data by Id', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyUserId}/userinfo`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { username } = res.body;\r\n            expect(username).equals(dummyUser.username);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Fetch User data by username', (done) => {\r\n        request(app).post(`${baseUrl}/userinfo`)\r\n        .send({username: dummyUser.username})\r\n        .then((res) => {\r\n            const { username } = res.body;\r\n            expect(username).equals(dummyUser.username);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Fetch User progress data by id', (done) => {\r\n        request(app).post(`${baseUrl}/progress`)\r\n        .send({userId: dummyUserId, graphId: dummyGraphId})\r\n        .then((res) => {\r\n            const { completedNodes } = res.body;\r\n            expect(completedNodes).empty;\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('User liked Content / Graphs', () => {\r\n    it('Add liked content', (done) => {\r\n        request(app).post(`${baseUrl}/like/content`)\r\n        .send({userId: dummyUserId, contentId: dummyContentId})\r\n        .then((res) => {\r\n            const { updated, type } = res.body;\r\n            expect(updated.n).equals(1);\r\n            expect(updated.nModified).equals(1);\r\n            expect(updated.ok).equals(1);\r\n            expect(type).equals('add');\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Remove liked content', (done) => {\r\n        request(app).post(`${baseUrl}/like/content`)\r\n        .send({userId: dummyUserId, contentId: dummyContentId})\r\n        .then((res) => {\r\n            const { updated, type } = res.body;\r\n            expect(updated.n).equals(1);\r\n            expect(updated.nModified).equals(1);\r\n            expect(updated.ok).equals(1);\r\n            expect(type).equals('remove');\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Add liked graph', (done) => {\r\n        request(app).post(`${baseUrl}/like/graph`)\r\n        .send({userId: dummyUserId, graphId: dummyGraphId})\r\n        .then((res) => {\r\n            const { updated, type } = res.body;\r\n            expect(updated.n).equals(1);\r\n            expect(updated.nModified).equals(1);\r\n            expect(updated.ok).equals(1);\r\n            expect(type).equals('add');\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Remove liked graph', (done) => {\r\n        request(app).post(`${baseUrl}/like/graph`)\r\n        .send({userId: dummyUserId, graphId: dummyGraphId})\r\n        .then((res) => {\r\n            const { updated, type } = res.body;\r\n            expect(updated.n).equals(1);\r\n            expect(updated.nModified).equals(1);\r\n            expect(updated.ok).equals(1);\r\n            expect(type).equals('remove');\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('User Image', () => {\r\n    it('Add User Image', (done) => {\r\n        request(app).post(`${baseUrl}/image`)\r\n        .send({username: dummyUser.username, image: dummyUser.image})\r\n        .then((res) => {\r\n            const { success } = res.body;\r\n            expect(success).equals(true);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n\r\n    it('Get User Image', (done) => {\r\n        request(app).get(`${baseUrl}/${dummyUser.username}/image`)\r\n        .send({})\r\n        .then((res) => {\r\n            const { image } = res.body;\r\n            expect(image).equals(dummyUser.image);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\ndescribe('User Privacy', () => {\r\n    it('Update User Privacy', (done) => {\r\n        request(app).post(`${baseUrl}/privacy`)\r\n        .send({userId: dummyUserId, privacy: true})\r\n        .then((res) => {\r\n            const { success } = res.body;\r\n            expect(success).equals(true);\r\n            expect(res.status).equal(200);\r\n            done();\r\n        })\r\n    })\r\n})\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fe5ed7cc56b8de9709f0d2b7e9b2945b0fcb56df","contentHash":"8b6064b0d87556f87aaa300cec45379eaf956703dede66cbc3161e6223f27521"}}